##############################
# BL-XPP config
##############################

# image server
imgsrv.host=localhost
imgsrv.guiPort=14005
imgsrv.webPort=14006
imgsrv.httpPort=14007
imgsrv.tmpDir=/home/webstaff/jpegscratch
imgsrv.maxIdleTime=60
imgsrv.logStdout=true
imgsrv.logUdpHost=
imgsrv.logUdpPort=
imgsrv.logFilePattern=/usr/local/dcs/imgsrv/imgsrv_log_%d.log
imgsrv.logFileSize=31457280
imgsrv.logFileMax=1
imgsrv.logLevel=ALL
imgsrv.logLibs=
# local authentication server

# impersonation server
imperson.host=localhost
imperson.port=61001
imperson.readonlyHost=localhost
imperson.readonlyPort=61002


auth.host=localhost
auth.port=8084
auth.method=smb_config_database
auth.secureHost=localhost
auth.securePort=8087
#comment following to accept any certificates
auth.trusted_ca_file=/usr/local/dcs/auth-server-tcl/main/resources/.pki/auth.crt
#auth.trusted_ca_directory=/usr/local/dcs/dcsconfig/data/trusted_ca_dir

# dcs
dcs.rootDir=/usr/local/dcs

# dcss server
#dcss.host=blctlxpp.slac.stanford.edu
dcss.host=blctl00

#serverPorts.txt file fields conversion table
#   1st -->dcss.scriptPort 
#   2nd -->dcss.hardwarePort
#   3rd -->dcss.guiPort
dcss.ssl=1
dcss.scriptPort=14244
dcss.hardwarePort=14242
dcss.guiPort=14243
dcss.authProtocol=2
dcss.certificate=/usr/local/dcs/dcsconfig/data/BL-XPP.crt

# how often to validate session ids (in msec)
dcss.validationRate = 10000

# Location of the dabase memory map file
dcss.dbMapFile=/usr/local/dcs/dcss/dbmapfile/BL-XPP.dat
dcss.stringFileDir=/usr/local/dcs/dcss/dbmapfile/BL-XPPString

# dcss logging: 
# To turn off stdout logging, set logStdout to false
# To turn off udp log, set logUdpHost or logUdpPort to an empty string.
# To turn off log file, set logFilePattern or logFileSize or logFileMax to an empty string
# logLevel can be OFF, SEVERE, WARNING, INFO, CONFIG, FINE, FINER, FINEST OR ALL.
dcss.validationRate=3000
dcss.logStdout=true
dcss.logUdpHost=
dcss.logUdpPort=
dcss.logFilePattern=./BL-XPP_dcss_log_%g_%u.txt
#dcss.logFilePattern=
dcss.logFileSize=31457280
dcss.logFileMax=40
dcss.logLevel=ALL
dcss.logLibs=

# Dumping database.dat to text file. Set dbDumpFlag=false to turn it off.
dcss.dbDumpFlag=true
dcss.dbDumpFile=/usr/local/dcs/dbmapfile/BL-XPP.dump
dcss.dbDumpRate=30000

##########forced hutch door status
dcss.forcedDoor=closed

#if it is not 0, port probing force results are in millimeter of port error
#if it is 0, the port probing force results are lbs-in, raw
robot.probeScaled=1

bluice.defaultHost=bl15c
bluice.deviceDefinitionFilename=/usr/local/dcs/dcsconfig/data/BL-XPP.dat
#bluice.mirrorView=
bluice.toroidView=ToroidView
bluice.monoView=DoubleCrystalMonoViewDown 
bluice.defaultHost=bll15.slac.stanford.edu

bluice.beamlineView=detectorPosition goniometer frontEndSlits frontEndApertures 
bluice.gonioView=DCS::MicrodiffractometerView

# imperson dhs
impdhs.name=imperson
impdhs.tmpDir=/tmp
impdhs.choochBinDir=/usr/local/dcs/autochooch/install/bin
impdhs.choochDatDir=/usr/local/dcs/autochooch/install/data
impdhs.cameraHost=smb.slac.stanford.edu
impdhs.cameraPort=80
impdhs.impHost=localhost
impPort.impPort=61001
impdhs.silHost=smb.slac.stanford.edu
impdhs.silPort=80
impdhs.latestEventIdUrl=/crystals/getLatestEventId.do
impdhs.cassetteDataUrl=/crystals/getCassetteData.do


dcss.display=hutch blctl00 :0.0 #In XPP hutch
dcss.display=local x xpp-daq:0 #Beamline console
dcss.display=remote dontcare blctl00:0.0 #Beamline console

#video1.imageUrl=http://smbws2.slac.stanford.edu:8080/VideoSystem/video.html?method=getVideoImage&stream=BL12-2_SAMPLE
#video2.imageUrl=http://smbws2.slac.stanford.edu:8080/VideoSystem/video.html?method=getVideoImage&stream=BL12-2_HUTCH
#video3.imageUrl=http://smbws2.slac.stanford.edu:8080/VideoSystem/video.html?method=getVideoImage&stream=BL12-2_ROBOT
#video4.imageUrl=http://smbws2.slac.stanford.edu:8080/VideoSystem/video.html?method=getVideoImage&stream=BL12-2_PANEL
#video5.imageUrl=http://smbws2.slac.stanford.edu:8080/VideoSystem/video.html?method=getVideoImage&stream=BL12-2_INLINE

#presets
video1.presetRequestUrl=
video2.presetRequestUrl=http://smbws2.slac.stanford.edu:8080/VideoSystem/control.html?method=getPresetList&stream=BL12-2_HUTCH
video3.presetRequestUrl=http://smbws2.slac.stanford.edu:8080/VideoSystem/control.html?method=getPresetList&stream=BL12-2_ROBOT
video4.presetRequestUrl=http://smbws2.slac.stanford.edu:8080/VideoSystem/control.html?method=getPresetList&stream=BL12-2_PANEL

video1.moveRequestUrl=
video2.moveRequestUrl=http://smbws2.slac.stanford.edu:8080/VideoSystem/control.html?method=gotoPreset&stream=BL12-2_HUTCH&presetName=
video3.moveRequestUrl=http://smbws2.slac.stanford.edu:8080/VideoSystem/control.html?method=gotoPreset&stream=BL12-2_ROBOT&presetName=
video4.moveRequestUrl=http://smbws2.slac.stanford.edu:8080/VideoSystem/control.html?method=gotoPreset&stream=BL12-2_PANEL&presetName=

video1.textUrl=
video2.textUrl=http://smbws2.slac.stanford.edu:8080/VideoSystem/control.html?method=changeText&stream=BL12-2_HUTCH&text=
video3.textUrl=http://smbws2.slac.stanford.edu:8080/VideoSystem/control.html?method=changeText&stream=BL12-2_ROBOT&text=
video4.textUrl=http://smbws2.slac.stanford.edu:8080/VideoSystem/control.html?method=changeText&stream=BL12-2_PANEL&text=

#more arguments
video1.args=
video2.args=&camera=1
video3.args=&camera=3
video4.args=&camera=1

# video urls
video1.imageUrl=http://xppaxis1:80/axis-cgi/jpg/image.cgi?camera=1&resolution=704x480&clock=0&date=0&text=0
video2.imageUrl=http://xppaxis1:80/axis-cgi/jpg/image.cgi?camera=1&resolution=704x480&clock=0&date=0&text=0
video3.imageUrl=http://xppaxis1:80/axis-cgi/jpg/image.cgi?camera=1&resolution=704x480&clock=0&date=0&text=0
video4.imageUrl=http://xppaxis1:80/axis-cgi/jpg/image.cgi?camera=1&resolution=704x480&clock=0&date=0&text=0
video5.imageUrl=http://xppaxis1:80/axis-cgi/jpg/image.cgi?camera=1&resolution=704x480&clock=0&date=0&text=0

video.snapshotUrl=http://xppaxis1:80/axis-cgi/jpg/image.cgi?camera=1&resolution=704x480&clock=0&date=0&text=0

video.snapshotDirectUrl=http://xppaxis1:80/axis-cgi/jpg/image.cgi?camera=1&resolution=704x480&clock=0&date=0&text=0

video.snapshotDirectInlineUrl=http://xppaxis1:80/axis-cgi/jpg/image.cgi?camera=1&resolution=704x480&clock=0&date=0&text=0

# epics dhs
epicsdhs.name=spear_epics
epicsdhs.pvFile=../data/epics.config
epicsdhs.EPICS_CA_ADDR_LIST=spear3 prymatt b132-iocrf b117-iocmu b118-iocps b117-iocorbit b117-iocfdbk
epicsdhs.EPICS_TS_MIN_WEST=480

dhs.logStdout=TRUE
dhs.logFileSize=31457280
dhs.logFileMax=10
dhs.logLevel=INFO

#dhs.instance=instanceName hardwareType logFilePattern memoryMapName autoflush watchdog devicepollTime
#dhs.instance=camera axis2400 /usr/local/dcs/BL0-0/camera_%g_%u.log /usr/local/dcs/BL0-0/camera.dat 500 6000 500
dhs.instance=inline_camera axis2400inline /usr/local/dcs/BL0-0/inline_camera_%g_%u.log /usr/local/dcs/BL0-0/inline_camera.dat 500 6000 500
dhs.instance=detector mar345 /usr/local/dcs/BL0-0/detector_%g_%u.log /usr/local/dcs/BL0-0/detector.dat 500 1000 200

#mar345.commandDirectory=/usr/local/dcs/
mar345.commandDirectory=/logs/root

axis2400.hostname=blsimaaxis
axis2400.port=8000
axis2400.passwordFile=/usr/local/dcs/BL0-0/axis2400Password.txt
axis2400.url_path=/axis-cgi/jpg/image.cgi?camera=1&clock=0&date=0&text=0 HTTP/1.0\r\n

axis2400inline.hostname=blsimaaxis
axis2400inline.port=8000
axis2400inline.passwordFile=/usr/local/dcs/BL0-0/axis2400Password.txt
axis2400inline.url_path=/axis-cgi/jpg/image.cgi?camera=1&clock=0&date=0&text=0 HTTP/1.0\r\n

epicsgw.name =epics_gateway
#### update rate is ticks; 1 tick is about 0.1 seconds
#### 0 means immediately update up on epics
#epicsgw.default.UpdateRate=0
#class wide rate
#epicsgw.String.UpdateRate=30
epicsgw.Motor.UpdateRate=10
#epicsgw.Shutter.UpdateRate=10
# object wide rate
#epicsgw.epics_string1.UpdateRate=0
#epicsgw.epics_motor1.UpdateRate=10
#####string for EPICS array forced read rate per object#####
#epicsgw.epics_string3.ForcedReadRate=10
epicsgw.defaultMotorType=APSMotor

# Simulation Detector
simdetector.name=detector
# Default source image dir
simdetector.imageDir=/data/blctl/simdetector_images
simdetector.cassetteFile=/usr/local/dcs/simdetector/cassette_dirs.txt
simdetector.impHost=localhost
simdetector.impPort=61001
# Use default values from imperson. host and imperson. port
#simdetector.impHost=blcpu5.slac.stanford.edu
#simdetector.impPort=61001

video.videoSystemUrl=http://localhost:8080/VideoSystem

# Cryojet DHS
cryojetDhs.serialPort=/dev/ttyS0

#################################
# homing switch for sample_xy
#################################
# board channel on daqBoard1000 DI
homeswitch.read.sample_x=0 1
homeswitch.read.sample_y=0 2
##### safe scan width to avoid moving sample out of cryojet
##### if not defined, it will use laser sensor only
homeswitch.safeScanWidth=0.4
homeswitch.safeScanStep=0.01
### report hardware error if the region of home switch-on is out of these
homeswitch.validHomeRange=0.03 0.1
motor.circular.reset_range=360000


dcss.preCheckMotorList=
galil1.servo=inline_camera_zoom d 3291 221 32 off

bluice.videoTabList=COMBO_INLINE_ONLY Diffraction


dhs.instance=detector marccd /usr/local/dcs/BL-XPP/detector_%g_%u.log /usr/local/dcs/BL-XPP/detector.dat 500 1000 200
marccd.beamCenter=162.5 162.5
marccd.serialNumber=1
marccd.hostname=smblxmar
marccd.commandPort=3000
marccd.darkRefreshTime=7200
marccd.darkExposureTolerance=.10
marccd.writeRawImages=F
marccd.impHost=smbfs.slac.stanford.edu
marccd.impPort=61001
marccd.useImperson=T
marccd.collectDark=F
marccd.recordI0=F
marccd.detectorType=MAR325

bluice.zoomLowInline=0.0
#bluice.tabOrder=Hutch Sample Collect Screening Rastering Users UserLog Staff
bluice.tabOrder=Hutch Sample Collect Screening LCLSL614 LCLSCrystal LCLSGrid Users UserLog Staff
attenuation.filterThickness=Al_32 800 Al_16 400 Al_8 200 Al_4 100 Al_2 50 Al_1 25
bluice.filterLabelMap=Al_1 1 Al_2 2 Al_4 4 Al_8 8 Al_16 16 Al_32 32 Se Se

scan.encoderAsSignal=1
bluice.lightClass=XPPLightControlWidget
rasterClass=FloatGridTab
system.noSilServer=1

### open both stringView and stringDictView
stringDictViewList=multiStrategy_input multiStrategy_result
stringDictViewList=latest_raster_user_setup default_raster_user_setup
# dimmer
#light.inline_dim=1 1
allowUserMountBeamlineTool=1

bluice.beamMatchColor=blue
bluice.showXPPPulse=1
