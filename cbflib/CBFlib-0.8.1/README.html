<!doctype html public "-//IETF//DTD HTML 2.0//EN">
<HTML>

<HEAD>
<TITLE>
CBFlib
</TITLE> 
</HEAD> 
<BODY BACKGROUND="html_graphics/cbflibbackground.jpg">

<a href="http://www.iucr.org/iucr-top/welcome.html">
<img alt="[IUCr Home Page]" src="html_graphics/iucrhome.jpg"></a>
<a href="http://www.iucr.org/iucr-top/cif/home.html">
<img alt="[CIF Home Page]" src="html_graphics/cifhome.jpg"></a>
<A HREF="doc/cbf_definition_rev.html"><IMG SRC="html_graphics/CBFbutton.jpg" 
ALT="[CBF/imgCIF]"></A>
<A HREF="doc/CBFlib.html"><IMG SRC="html_graphics/cbflibbutton.jpg" 
ALT="[CBFlib]"></A> 
<hr>
<CENTER>
| <a href="http://www.iucr.org/iucr-top/welcome.html">IUCr Home Page</a>
| <a href="http://www.iucr.org/iucr-top/cif/home.html">CIF Home Page</a>
| <A HREF="doc/cbf_definition_rev.html">CBF/imgCIF</a>
| CBFlib
|<br />
| <A HREF = "doc/CBFlib_NOTICES.html">NOTICE</A>
| <a href=gpl.txt>doc/GPL</a>
| <a href=lgpl.txt>doc/LGPL</a>
| <a href="doc/cif_img_1.5.4.html">imgCIF dictionary</a>
|<br />
| <a href="http://arcib.dowling.edu/donation.shtml">Click Here to Make a Donation</a>
|<P>
<IMG  SRC="html_graphics/cbflibbig.jpg" ALT="CBFlib">
</CENTER>
<font color="#0808A0">
<H2 ALIGN=CENTER>README</H2>
<H3 ALIGN=CENTER>
Information for CBFlib 0.8 pre-release of 20 July 2008<BR>
</H3>
</font><font color="#000000">
<CENTER>
by<BR>
Paul J. Ellis<BR>
Stanford Synchrotron Radiation Laboratory<BR>
<P>
and<BR>
Herbert J. Bernstein<BR>
Bernstein + Sons<BR>
<script language="javascript" type="text/javascript">
<!-- 
      var name = "yaya";
      var domain = "bernstein-plus-sons";
      var domext = "com";
      document.write ("<a href=\"mailto:" + name + "@" + domain + "." domext + "\">" + name + " <b>at</b> " + domain + " <b>dot</b> "+  domext+"</a>"); 
// -->
</script>
<noscript>
yaya <b>at</b> bernstein-plus-sons <b>dot</b> com
</noscript>
<p>
&#169; Copyright 2006, 2007, 2008 Herbert J. Bernstein
<P>
<hr>
<b>YOU MAY REDISTRIBUTE THE CBFLIB PACKAGE UNDER THE TERMS OF THE <a href=doc/gpl.txt>GPL</a>.
<P>
 ALTERNATIVELY YOU MAY REDISTRIBUTE THE CBFLIB API UNDER THE TERMS
 OF THE <a href=doc/lgpl.txt>LGPL<a/>.</b>
</CENTER>
<HR>
<H3 ALIGN=CENTER>
Before using this software, please read the <BR>
<A HREF = "doc/CBFlib_NOTICES.html"> <IMG SRC="html_graphics/noticeButton.jpg"
ALT="NOTICE"></A><BR>
for important disclaimers and the IUCr Policy
 on the Use of the Crystallographic Information File (CIF) and other important
information.
</h3>
<P>
Work on imgCIF and CBFlib supported in part by the U. S. Department of Energy (DOE)
under grants ER63601-1021466-0009501 and ER64212-1027708-0011962, by the
U. S. National Science Foundation (NSF) under grants DBI-0610407, DBI-0315281 and
EF-0312612, the U. S. National Institutes of Health (NIH) under grants 1R15GM078077
from NIGMS and 1R13RR023192 from NCRR and funding from the International
Union for Crystallography (IUCr).  The content is solely the responsibility of 
the authors and does not necessarily represent the official views of 
DOE, NSF, NIH, NIGMS, NCRR or IUCr.
<P>
<HR>
<P>
<b>NOTE:  This is a partial pre-release of CBFlib version 0.8 needed to support
changes in RasMol.  This release in imcomplete and should be used with caution.
There have been significant changes in the input/output logic and in validation.
Until the ChangeLog is ready, consult the CVS of the CBFlib project on sourceforge.</b>
<P>
CBFLIB is a library of ANSI-C functions providing a simple mechanism for 
accessing Crystallographic Binary Files (CBF files) and Image-supporting 
CIF (imgCIF) files.  The CBFLIB API is loosely based on the CIFPARSE API
for mmCIF files.  Starting with this release, CBFLIB performs validation
checks on reading of a CBF.  If a dictionary is provided, values will
be validated against dictionary ranges and enumerations.  Tags
missing under parent-child relationships or category key requirements
will be reported.  CBFlib provides functions to create, read, modify 
and write CBF binary data files and imgCIF ASCII data files.
<P>
<H3>Installation</H3>
<P>
CBFLIB should be built on a disk with at least 350 megabytes of free 
space, for a full installation with complete tests.  <b>Read the
instructions below carefully, if space is a problem.</b>
<P>
<A HREF="../CBFlib_0.8.0.tar.gz">CBFlib_0.8.0.tar.gz</A> is a "gzipped" 
tar of the code as it now stands.
<P>
In addition,
<A 
HREF="http://arcib.dowling.edu/software/CBFlib/downloads/version_0.8.0/CBFlib_0.8.0_Data_Files_Input.tar.gz">CBFlib_0.8.0_Data_Files_Input.tar.gz</a>
(13 MB) is a "gzipped" tar of the input data files needed to test the API,
<A 
HREF="http://arcib.dowling.edu/software/CBFlib/downloads/version_0.8.0/CBFlib_0.8.0_Data_Files_Output.tar.gz">CBFlib_0.8.0_Data_Files_Output.tar.gz</a>
(34 MB) is a "gzipped" tar of the output data files needed to test the API, and, if space is at a premium,
<A 
HREF="http://arcib.dowling.edu/software/CBFlib/downloads/version_0.8.0/CBFlib_0.8.0_Data_Files_Output_Sigs_Only.tar.gz">CBFlib_0.8.0_Data_Files_Output_Sigs_Only.tar.gz</a>
(1KB) is a "gzipped" tar of only the MD5 signatures of the output data files needed to test the API.

Place the CBFlib_0.8.0.tar.gz file in the directory
that is intended to contain up to 4 new directories, named 
CBFlib_0.8.0 (the &quot;top-level&quot; directory),
CBFlib_0.8.0_Data_Files_Input and either CBFlib_0.8.0_Data_Files_Output or 
CBFlib_0.8.0_Data_Files_Output_Sigs_Only.
If you have wget on your machine, you only need to download the source tarball.  If you do not have wget,
you will need to download all the tarballs into the same directory
<p>
Uncompress CBFlib_0.8.0.tar.gz with gunzip and unpack it with tar:
<p>
<PRE>
     gunzip CBFlib_0.8.0.tar.gz
     tar xvf CBFLIB_0.8.0.tar
</PRE>
<p>
To run the test programs, you will also need 
Paul Ellis's sample MAR345 image,
example.mar2300,
Chris Nielsen's sample ADSC Quantum 315 image, 
mb_LP_1_001.img, and Eric Eikenberry's SLS sample Pilatus 6m image,
insulin_pilatus6m, as sample data.  In addition there are
is a PDB mmCIF file, 9ins.cif, and 3 special test files
testflatin.cbf, testflatpackedin.cbf and testrealin.cbf.
 All these files will be
dowloaded and extracted by the Makefile from CBFlib_0.8.0_Data_Files_Input.  Do
not download copies into the top level directory.
<P>
After unpacking the archives, the top-level directory should contain
a makefile:
<p>
<TABLE ALIGN=CENTER>
<TR><TD>&nbsp;&nbsp;Makefile<TD>&nbsp;&nbsp;Makefile for unix
</TABLE>
<p>
and the subdirectories:
<p>
<TABLE ALIGN=CENTER>
<TR><TD>&nbsp;&nbsp;src/<TD>&nbsp;&nbsp;CBFLIB source files
<TR><TD>&nbsp;&nbsp;include/<TD>&nbsp;&nbsp;CBFLIB header files
<TR><TD>&nbsp;&nbsp;<TD>&nbsp;&nbsp;
<TR><TD>&nbsp;&nbsp;bin/<TD>&nbsp;&nbsp;Executable example programs
<TR><TD>&nbsp;&nbsp;doc/<TD>&nbsp;&nbsp;Documentation
<TR><TD>&nbsp;&nbsp;examples/<TD>&nbsp;&nbsp;Example program source files
<TR><TD>&nbsp;&nbsp;html_images/<TD>&nbsp;&nbsp;JPEG images used in rendering the HTML files
<TR><TD>&nbsp;&nbsp;lib/<TD>&nbsp;&nbsp;Compiled CBFLIB (libcbf.a) and FCBLIB (libfcb.a) libraries 
<TR><TD>&nbsp;&nbsp;m4/<TD>&nbsp;&nbsp;CBFLIB m4 macro files (used to build .f90 files)
<TR><TD>&nbsp;&nbsp;mswin/<TD>&nbsp;&nbsp;An MS Windows CodeWarrior project file
<TR><TD>&nbsp;&nbsp;pycbf/<TD>&nbsp;&nbsp;Jon Wright's Python bindings
</TABLE>
<p>
<p>and additional Makefiles for other systems.  All the makefiles are created from
m4/Makefile.m4.  The current set of Makefiles are Makefile_LINUX, Makefile_LINUX_gcc42,
Makefile_OSX, Makefile_OSX_gcc42, Makefile_AIX and Makefile_MINGW.  Edit the
closest approximation to your system, and then copy that variant to Makefile.


For instructions on compiling and testing the library, go to
the top-level directory and type:
<p>
<PRE>
     make
</PRE>
<p>
Once you have a properly configure Makefile, compile and test the package
with
<p>
<PRE>
     make tests
</PRE>
<p>
or, if space is at a premium, with
<PRE>
     make tests_sigs_only
</PRE>


  
<P>
Please refer to the manual <a HREF="doc/CBFlib.html">doc/CBFlib.html</a>
for more detailed information.<HR>
<HR>
Updated 30 December 2007.  
<script language="javascript" type="text/javascript">
<!-- 
      var name = "yaya";
      var domain = "bernstein-plus-sons";
      var domext = "com";
      document.write ("<a href=\"mailto:" + name + "@" + domain + "." domext + "\">" + name + " <b>at</b> " + domain + " <b>dot</b> "+  domext+"</a>"); 
// -->
</script>
<noscript>
yaya <b>at</b> bernstein-plus-sons <b>dot</b> com
</noscript>
</font>
</BODY>
</HTML>
