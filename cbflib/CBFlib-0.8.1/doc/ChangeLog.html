<HTML>
<HEAD>
<TITLE>CBFlib ChangeLog</TITLE>
</HEAD>
<body bgcolor="#FAFAFF" text="#000000" 
BACKGROUND="../html_graphics/cbflibbackground.jpg">
<a href="http://www.iucr.org/iucr-top/welcome.html">
<img alt="[IUCr Home Page]" src="../html_graphics/iucrhome.jpg"></a>
<a href="http://www.iucr.org/iucr-top/cif/home.html">
<img alt="[CIF Home Page]" src="../html_graphics/cifhome.jpg"></a>
<A HREF="cbf_definition_rev.html"><IMG SRC="../html_graphics/CBFbutton.jpg" 
ALT="[CBF/imgCIF]"></A>
<a href="CBFlib.html"><IMG SRC="../html_graphics/cbflibbutton.jpg"></a>
<hr>
<CENTER>
| <a href="http://www.iucr.org/iucr-top/welcome.html">IUCr Home Page</a>
| <a href="http://www.iucr.org/iucr-top/cif/home.html">CIF Home Page</a>
| <A HREF="cbf_definition_rev.html">CBF/imgCIF</a>
| <a href="CBFlib.html">CBFlib</a>
|<br />
| <A HREF = "CBFlib_NOTICES.html">NOTICE</A>
| <a href=gpl.txt>GPL</a>
| <a href=lgpl.txt>LGPL</a>
| <a href="cif_img_1.5.4.html">imgCIF dictionary</a>
|<br />
| <a href="http://arcib.dowling.edu/donation.shtml">Click Here to Make a Donation</a>
|<P>
<IMG  SRC="../html_graphics/cbflibbig.jpg" ALT="">
</CENTER>
<font color="#0808A0">
<H2 ALIGN=CENTER>CBFlib ChangeLog</H2>
<CENTER>
<B>An API for CBF/imgCIF<BR>
Crystallographic Binary Files with ASCII Support</B><BR>
Version 0.7.9<BR>
24 January 2008<BR>
<P>
</CENTER>
</font><font color="#000000">
<P>
<CENTER>
by<BR>
Paul J. Ellis<BR>
Stanford Synchrotron Radiation Laboratory<BR>
<P>
and<BR>
Herbert J. Bernstein<BR>
Bernstein + Sons<BR>
<script language="javascript" type="text/javascript">
<!-- 
      var name = "yaya";
      var domain = "bernstein-plus-sons";
      var domext = "com";
      document.write ("<a href=\"mailto:" + name + "@" + domain + "." domext + "\">" + name + " <b>at</b> " + domain + " <b>dot</b> "+  domext+"</a>"); 
// -->
</script>
<noscript>
yaya <b>at</b> bernstein-plus-sons <b>dot</b> com
</noscript>
<p>
&#169; Copyright 2006, 2007, 2008 Herbert J. Bernstein
<P>
<hr>
<b>YOU MAY REDISTRIBUTE THE CBFLIB PACKAGE UNDER THE TERMS OF THE <a href=gpl.txt>GPL</a>.
<P>
 ALTERNATIVELY YOU MAY REDISTRIBUTE THE CBFLIB API UNDER THE TERMS
 OF THE <a href=lgpl.txt>LGPL<a/>.</b>

</CENTER>
<P>
<HR>
<H3 ALIGN=CENTER>
Before using this software, please read the <BR>
<A HREF = "CBFlib_NOTICES.html"> <IMG SRC="../html_graphics/noticeButton.jpg" ALT="NOTICE"></A><BR>
for important disclaimers and the IUCr Policy
 on the Use of the Crystallographic Information File (CIF) and for other important
information.
</h3>
<P>
   Work on imgCIF and CBFlib supported in part by the U. S. Department of
   Energy (DOE) under grants ER63601-1021466-0009501 and
   ER64212-1027708-0011962, by the U. S. National Science Foundation (NSF)
   under grants DBI-0610407, DBI-0315281 and EF-0312612, the U. S.
   National Institutes of Health (NIH) under grants 1R15GM078077 from
   NIGMS and 1R13RR023192 from NCRR and funding from the International
   Union for Crystallographyn (IUCr). The content is solely the
   responsibility of the authors and does not necessarily represent the
   official views of DOE, NSF, NIH, NIGMS, NCRR or IUCr. 
<P>
<HR>
</font><font color="#0808A0">
<h2 ALIGN=CENTER>Version History</H2>
</font><font color="#000000">
<P>
<TABLE>
<TR><TH ALIGN=LEFT>Version
<TH ALIGN=LEFT>Date<TH ALIGN=LEFT>By<TH ALIGN=LEFT>Description
<TR>
<TD VALIGN=TOP>&nbsp;&nbsp;0.1<TD VALIGN=TOP>&nbsp;&nbsp;Apr. 1998<TD VALIGN=TOP>&nbsp;&nbsp;PJE<TD>&nbsp;&nbsp;This was the 
first CBFlib release.  It
supported binary CBF files using binary strings.
<TR>
<TD VALIGN=TOP>&nbsp;&nbsp;<A HREF="#0.2">0.2</A><TD VALIGN=TOP>&nbsp;&nbsp;Aug. 1998<TD VALIGN=TOP>&nbsp;&nbsp;HJB<TD>&nbsp;&nbsp;This release 
added ascii imgCIF support using MIME-encoded binary sections, added 
the option of MIME headers for the binary strings was well.  MIME code 
adapted from mpack 1.5.  Added hooks needed for DDL1-style names without 
categories.
<TR>
<TD VALIGN=TOP>&nbsp;&nbsp;<A HREF="#0.3">0.3</A><TD VALIGN=TOP>&nbsp;&nbsp;Sep. 1998<TD VALIGN=TOP>&nbsp;&nbsp;PJE<TD>&nbsp;&nbsp;This release 
cleaned up the changes made for version 0.2, allowing multi-threaded use of 
the code, and removing dependence on the mpack package.
<TR>
<TD VALIGN=TOP>&nbsp;&nbsp;<A HREF="#0.4">0.4</A><TD VALIGN=TOP>&nbsp;&nbsp;Nov. 1998<TD VALIGN=TOP>&nbsp;&nbsp;HJB<TD>&nbsp;&nbsp;This release
merged much of the message digest code into the general file reading and 
writing to reduce the number of passes.  More consistency checking between the MIME header and the binary header was introduced.  The size in the MIME header was adjusted to agree with the version 0.2 documentation.
<TR>
<TD VALIGN=TOP>&nbsp;&nbsp;<A HREF="#0.5">0.5</A><TD VALIGN=TOP>&nbsp;&nbsp;Dec. 1998<TD VALIGN=TOP>&nbsp;&nbsp;PJE<TD>&nbsp;&nbsp;This release
greatly increased the speed of processing by allowing for deferred digest
evaluation.
<TR>
<TD VALIGN=TOP>&nbsp;&nbsp;<A HREF="#0.6">0.6</A><TD VALIGN=TOP>&nbsp;&nbsp;Jan. 1999<TD VALIGN=TOP>&nbsp;&nbsp;HJB<TD>&nbsp;&nbsp;This release
removed the redundant information (binary id, size, compression id)
from a binary header when there is a MIME header, removed the unused
repeat argument, and made the memory allocation for buffering and
tables with many rows sensitive to the current memory allocation already used.
<TR>
<TD VALIGN=TOP>&nbsp;&nbsp;<A HREF="#0.6.1">0.6.1</A><TD VALIGN=TOP>&nbsp;&nbsp;Feb. 2001<TD VALIGN=TOP>&nbsp;&nbsp;HP (per HJB)<TD>&nbsp;&nbsp;This release
fixed a memory leak due to misallocation by size of cbf_handle instead of cbf_handle_struct
<TR>
<TD VALIGN=TOP>&nbsp;&nbsp;<A HREF="#0.7">0.7</A><TD VALIGN=TOP>&nbsp;&nbsp;Mar. 2001<TD VALIGN=TOP>&nbsp;&nbsp;PJE<TD>&nbsp;&nbsp;This release
added high-level instructions based on the imgCIF dictionary
version 1.1.
<TR>
<TD VALIGN=TOP>&nbsp;&nbsp;<A HREF="#0.7.1">0.7.1</A><TD VALIGN=TOP>&nbsp;&nbsp;Mar. 2001<TD VALIGN=TOP>&nbsp;&nbsp;PJE<TD>&nbsp;&nbsp;The high-level functions were revised to permit future expansion to
files with multiple images.
<TR>
<TD VALIGN=TOP>&nbsp;&nbsp;<A HREF="#0.7.2">0.7.2</A><TD VALIGN=TOP>&nbsp;&nbsp;Apr. 2001<TD VALIGN=TOP>&nbsp;&nbsp;HJB<TD>&nbsp;&nbsp;This release
adjusted cbf_cimple.c to conform to cif_img.dic version 1.1.3
<TR>
<TD VALIGN=TOP>&nbsp;&nbsp;<A HREF="#0.7.2.1">0.7.2.1</A><TD 
VALIGN=TOP>&nbsp;&nbsp;May 2001<TD 
VALIGN=TOP>&nbsp;&nbsp;PJE<TD>&nbsp;&nbsp;This release
corrected an if nesting error in the prior mod to cbf_cimple.c.
<TR>
<TD VALIGN=TOP>&nbsp;&nbsp;<A HREF="#0.7.3">0.7.3</A><TD 
VALIGN=TOP>&nbsp;&nbsp;Oct. 2002<TD 
VALIGN=TOP>&nbsp;&nbsp;PJE<TD>&nbsp;&nbsp;This release
modified cbf_simple.c to reorder image data on read so that the 
indices are always increasing in memory (this behavior was 
undefined previously).
<TR>
<TD VALIGN=TOP>&nbsp;&nbsp;<A HREF="ChangeLog.html#0.7.4">0.7.4</A><TD
VALIGN=TOP>&nbsp;&nbsp;Jan 2004<TD
VALIGN=TOP>&nbsp;&nbsp;HJB<TD>&nbsp;&nbsp;This release fixes a parse error for 
quoted strings, adds code to get and set character string types, and removes compiler warnings
<TR>
<TD VALIGN=TOP>&nbsp;&nbsp;<A HREF="ChangeLog.html#0.7.5">0.7.5</A><TD
VALIGN=TOP>&nbsp;&nbsp;Apr 2006<TD
VALIGN=TOP>&nbsp;&nbsp;HJB<TD>&nbsp;&nbsp;This release cleans up some
compiler warnings, corrects a parse error on quoted strings with
a leading blank as adds the new routines for support of
aliases, dictionaries and real arrays, higher level routines
to get and set pixel sizes, do cell computations, and to set beam centers,
improves support for conversion of images, picking up more data from
headers.
<TR>
<TD VALIGN=TOP>&nbsp;&nbsp;<A HREF="ChangeLog.html#0.7.6">0.7.6</A><TD
VALIGN=TOP>&nbsp;&nbsp;Jul 2006<TD
VALIGN=TOP>&nbsp;&nbsp;HJB<TD>&nbsp;&nbsp;This release reorganizes the kit
into two pieces:  CBFlib_0.7.6_Data_Files and CBFlib_0.7.6.  An optional local copy
of getopt is added.  The 1.4 draft dictionary has been added.  cif2cbf
updated to support vcif2 validation.  convert_image and cif2cbf updated
to report text of error messages.  convert_image updated to support
tag and category aliases, default to adxv images.  convert_image and
img updated to support row-major images.  Support added for binning.
API Support added for validation, wide files and line folding.
Logic changed for beam center reporting.  Added new routines:

cbf_validate,
cbf_get_bin_sizes,
cbf_set_bin_sizes,
cbf_find_last_typed_child,
cbf_compose_itemname,
cbf_set_cbf_logfile,
cbf_make_widefile,
cbf_read_anyfile,
cbf_read_widefile,
cbf_write_local_file,
cbf_write_widefile,
cbf_column_number,
cbf_blockitem_number,
cbf_log,
cbf_check_category_tags,
cbf_set_beam_center

<TR>
<TD VALIGN=TOP>&nbsp;&nbsp;<A HREF="ChangeLog.html#0.7.7">0.7.7</A><TD
VALIGN=TOP>&nbsp;&nbsp;February 2007<TD
VALIGN=TOP>&nbsp;&nbsp;HJB<TD>&nbsp;&nbsp;This release reflects changes
for base 32K support developed by G. Darakev, and changes
for support of reals, 3d arrays, byte_offset compression and
J. P. Abrahams packed compression
made in consultation with (in alphabetic order) E. Eikenberry,  
A. Hammerley, W. Kabsch, M. Kobas, J. Wright and others at PSI
and ESRF in January 2007, as well accumulated changes fixing
problems in release 0.7.6.
<TR>
<TD VALIGN=TOP>&nbsp;&nbsp;<A HREF="ChangeLog.html#0.7.7.1">0.7.7.1</A><TD
VALIGN=TOP>&nbsp;&nbsp;February 2007<TD
VALIGN=TOP>&nbsp;&nbsp;HJB<TD>&nbsp;&nbsp;This release is a patch
to 0.7.7 to change the treatment of the byteorder parameter from
strcpy semantics to return of a pointer to a string constant. 
Our thanks to E. Eikenberry for pointing out the problem.
<TR>
<TD VALIGN=TOP>&nbsp;&nbsp;<A HREF="ChangeLog.html#0.7.7.2">0.7.7.2</A><TD
VALIGN=TOP>&nbsp;&nbsp;February 2007<TD
VALIGN=TOP>&nbsp;&nbsp;HJB<TD>&nbsp;&nbsp;This release is a patch
to 0.7.7.1 to add testing for JPA packed compression and to respect
signs declared in the MIME header.
<TR>
<TD VALIGN=TOP>&nbsp;&nbsp;<A HREF="ChangeLog.html#0.7.7.3">0.7.7.3</A><TD
VALIGN=TOP>&nbsp;&nbsp;April 2007<TD
VALIGN=TOP>&nbsp;&nbsp;HJB<TD>&nbsp;&nbsp;This release is a patch
to 0.7.7.3 to add f90 support for reading of CBF byte-offset and
packed compression, to fix problems with gcc 4.4.1 and to correct
errors in multidimensional packed compression.
<TR>
<TD VALIGN=TOP>&nbsp;&nbsp;<A HREF="ChangeLog.html#0.7.7.4">0.7.7.4</A><TD
VALIGN=TOP>&nbsp;&nbsp;May 2007<TD
VALIGN=TOP>&nbsp;&nbsp;HJB<TD>&nbsp;&nbsp;Corrects in handling SLS
detector mincbfs and reorder dimensions versus arrays for some
f90 compilers as per H. Powell.
<TR>
<TD VALIGN=TOP>&nbsp;&nbsp;<A HREF="ChangeLog.html#0.7.7.5">0.7.7.5</A><TD
VALIGN=TOP>&nbsp;&nbsp;May 2007<TD
VALIGN=TOP>&nbsp;&nbsp;HJB<TD>&nbsp;&nbsp;Fix to cbf_get_image for bug
reported by F. Remacle, fixes for windows builds as per J. Wright
and F. Remacle.
<TR>
<TD VALIGN=TOP>&nbsp;&nbsp;<A HREF="ChangeLog.html#0.7.7.6">0.7.7.6</A><TD
VALIGN=TOP>&nbsp;&nbsp;Jun 2007<TD
VALIGN=TOP>&nbsp;&nbsp;HJB<TD>&nbsp;&nbsp;Fix to CBF byte-offset compression
writes, fix to Makefiles and m4 for f90 test programs to allow adjustable
record length.
<TR>
<TD VALIGN=TOP>&nbsp;&nbsp;<A HREF="ChangeLog.html#0.7.8">0.7.8</A><TD
VALIGN=TOP>&nbsp;&nbsp;Jul 2007<TD
VALIGN=TOP>&nbsp;&nbsp;HJB<TD>&nbsp;&nbsp;Release for full support of
SLS data files with updated convert_minicbf, and support for gfortran
from gcc 4.2.
<TR>
<TD VALIGN=TOP>&nbsp;&nbsp;<A HREF="ChangeLog.html#0.7.8.1">0.7.8.1</A><TD
VALIGN=TOP>&nbsp;&nbsp;Jul 2007<TD
VALIGN=TOP>&nbsp;&nbsp;HJB<TD>&nbsp;&nbsp;Update to 0.7.8 release to fix
memory leaks reported by N. Sauter and to update validation checks
for recent changes.
<TR>
<TD VALIGN=TOP>&nbsp;&nbsp;<A HREF="ChangeLog.html#0.7.8.2">0.7.8.2</A><TD
VALIGN=TOP>&nbsp;&nbsp;Dec 2007<TD
VALIGN=TOP>&nbsp;&nbsp;CN, HJB<TD>&nbsp;&nbsp;Update to 0.7.8.1 to add
ADSC jiffie by Chris Nielsen, and to add ..._fs and ..._sf macros.
<TR>
<TD VALIGN=TOP>&nbsp;&nbsp;<A HREF="ChangeLog.html#0.7.9">0.7.9</A><TD
VALIGN=TOP>&nbsp;&nbsp;Dec 2007<TD
VALIGN=TOP>&nbsp;&nbsp;CN, HJB<TD>Identical to 0.7.8.2 except for
a cleanup of deprecated examples, e.g. diffrn_frame_data
<TR>

<TD VALIGN=TOP>&nbsp;&nbsp;<A HREF="ChangeLog.html#0.7.9.1">0.7.9.1</A><TD
VALIGN=TOP>&nbsp;&nbsp;Jan 2008<TD
VALIGN=TOP>&nbsp;&nbsp;CN, HJB<TD>&nbsp;&nbsp;Update to 0.7.8.2 to add
inverse ADSC jiffie by Chris Nielsen, to clean up problems in
handling maps for RasMol.

</TABLE>

<HR>
<H3><A NAME="0.7.9.1">Release 0.7.9.1</A>, Chris Nielsen, Herbert J. Bernstein, 24 January 2008</H3>
<P>
<TABLE>
<TR><TH ALIGN=LEFT WIDTH="18%">Source File<TH ALIGN=LEFT>Change
<TR><TD VALIGN=TOP>cbf2adscimg.c cbf2adscimg_sub.c
<TD>&nbsp;&nbsp;Last minutes fixes on release:  Put missing byte swap in
cbf2adscimg.c for when byte orders differ.  Bypass problems with gcc
optimization, and handle case then array header is there but invalid.
<TR><TD VALIGN=TOP>.symlinks .undosymlinks
<TD>&nbsp;&nbsp;Update version to 0.7.9
<TR><TD VALIGN=TOP>Makefile.m4 Makefile, Makefile_AIX ...
<TD>&nbsp;&nbsp;Update for CN's jiffies, and testing with MD5
signatures only
<TR><TD VALIGN=TOP>cbf2adscimg.c cbf2adscimg_sub.c
<TD>&nbsp;&nbsp;New inverse jiffie by Chris Nielsen of ADSC to convert
CBF files created by convert_image or adscimg2cbf to ADSC detector images.
This version depends on the header extract planted by convert_image
or adscimg2cbf.
<TR><TD VALIGN=TOP>cbf_byte_offset.c
<TD>&nbsp;&nbsp;Fix handling of byte offset compression when the data
does not compress.
<TR><TD VALIGN=TOP>cbf_codes.c
<TD>&nbsp;&nbsp;Fix 32K encoding big-endian test as per Ladislav Michnovic 
<lmichnovic at suse dot cz>.
<TR><TD VALIGN=TOP>cbf_packed.c
<TD>&nbsp;&nbsp;Correct mishandling of 64 bit data.
<TR><TD VALIGN=TOP>cbf_uncompressed.c
<TD>&nbsp;&nbsp;Remove redundant initialization of unsigned_char_data.
<TR><TD VALIGN=TOP>cbf_write.c.c
<TD>&nbsp;&nbsp;Fix conflicting uses of variable column by introducing
separate variable xcol.
<TR><TD VALIGN=TOP>README.html README
<TD>&nbsp;&nbsp;Update to version 0.7.9 directory structure and programs.
<TR><TD VALIGN=TOP>cbf.c
<TD>&nbsp;&nbsp;Fix local sensitivity of cbf_get_doublevalue
and cbf_set_doublevalue so "."  will be accepted and written as the decimal point in 
locales that use ",".

</table>

<HR>
<H3><A NAME="0.7.9">Release 0.7.9</A>, Chris Nielsen, Herbert J. Bernstein, 30 December 2007</H3>
<P>
<TABLE>
<TR><TH ALIGN=LEFT WIDTH="18%">Source File<TH ALIGN=LEFT>Change
<TR><TD VALIGN=TOP>Makefiles and test data
<TD>&nbsp;&nbsp;Change test cases to avoid deprecated features.

</table>


<HR>
<H3><A NAME="0.7.8.2">Release 0.7.8.2</A>, Chris Nielsen, Herbert J. Bernstein, 25 December 2007</H3>
<P>
<TABLE>
<TR><TH ALIGN=LEFT WIDTH="18%">Source File<TH ALIGN=LEFT>Change
<TR><TD VALIGN=TOP>adscimg2cbf.c adscimg2cbf_sub.c
<TD>&nbsp;&nbsp;New jiffie by Chris Nielsen of ADSC to convert
ADSC detector images to CBF.
<TR><TD VALIGN=TOP>cbf.h cbf_byte_offset.h, cbf_compress.h, cbf_read_mime.h, cbf_simple.h
<TD>&nbsp;&nbsp;Add _fs and _sf versions of 
 cbf_get_arrayparameters_wdims,
 cbf_get_integerarrayparameters_wdims,
 cbf_get_realarrayparameters_wdims,
 cbf_set_integerarray_wdims,
 cbf_set_realarray_wdims,
 cbf_compress_byte_offset,
 cbf_compress, cbf_decompress, 
 cbf_parse_mimeheader, cbf_get_pixel_size,
 cbf_set_pixel_size, cbf_get_image_size, cbf_get_image, 
 cbf_get_real_image, cbf_get_3d_image_size, cbf_get_3d_image,
 cbf_get_real_3d_image, cbf_set_image, cbf_set_real_image, cbf_set_3d_image,
 cbf_set_real_3d_image, cbf_get_map_array_id, cbf_get_map_segment_size,
 cbf_get_map_segment, cbf_get_map_segment_mask, cbf_get_real_map_segment,
 cbf_get_real_map_segment_mask, cbf_set_map_segment, cbf_set_map_segment_mask,
 cbf_set_real_map_segment, cbf_set_real_map_segment_mask, cbf_get_3d_array_size,
 cbf_get_3d_array, cbf_set_3d_array, cbf_get_beam_center, cbf_set_beam_center,
 cbf_set_reference_beam_center, cbf_get_pixel_coordinates, 
 cbf_get_pixel_normal, cbf_get_pixel_area, cbf_get_inferred_pixel_size
<TR><TD VALIGN=TOP>cbf_alloc.h
<TD>&nbsp;&nbsp;Add prototype of cbf_free_text.
<TR><TD VALIGN=TOP>cbf_binary.h
<TD>&nbsp;&nbsp;Add prototype of cbf_check_digest.
<TR><TD VALIGN=TOP>cbf_canonical.h
<TD>&nbsp;&nbsp;Add definitions of cbf_compress_node and cbf_compress_data,
and prototypes of cbf_make_compressdata, cbf_free_compressdata,
cbf_initialise_compressdata, cbf_put_table, cbf_get_table, cbf_put_stopcode,
cbf_insert_node, cbf_append_node, cbf_order_node, cbf_create_list,
cbf_reduce_list, cbf_generate_codelengths, cbf_reverse_bitcodes,
cbf_generate_canonicalcodes, cbf_compare_bitcodes, cbf_construct_tree, 
cbf_setup_decode, cbf_count_bits, cbf_get_code, cbf_put_code
and cbf_count_values.
<TR><TD VALIGN=TOP>cbf_simple.h
<TD>&nbsp;&nbsp;Add prototypes of cbf_get_detector_id and 
cbf_gregorian_julian.
<TR><TD VALIGN=TOP>cbf_string.c, cbf_string.h
<TD>&nbsp;&nbsp;Add cbf_swab function for MS windows and other
machines that do not provide swab.
<TR><TD VALIGN=TOP>cbf.c, cbf_binary.c, cbf_byte_offset.c, cbf_canonical.c, cbf_compress.c, cbf_lex.c, cbf_packed.c, cbf_predictor.c, cbf_read_mime.c, cbf_simple.c, cbf_uncompressed.c, cbf_write_binary.c
<TD>&nbsp;&nbsp;Change dim1, dim2, dim3 to dimfast, dimmid, dimslow,
ndim1, ndim2 to ndimslow, ndimfast.
machines that do not provide swab.
<TR><TD VALIGN=TOP>cif2c.c
<TD>&nbsp;&nbsp;Make declaration of xciftmp conditional to avoid compiler warnings.
<TR><TD VALIGN=TOP>convert_image.c
<TD>&nbsp;&nbsp;Add code to check variations on pixel_size functions.
<TR><TD VALIGN=TOP>convert_minicbf.c
<TD>&nbsp;&nbsp;Add second quick exit option (-Q).  Improve error reporting.
Update for most recent SLS miniheader.
<TR><TD VALIGN=TOP>getopt.c
<TD>&nbsp;&nbsp;Fix some compiler warnings.
<TR><TD VALIGN=TOP>Makefile.m4
<TD>&nbsp;&nbsp;add adscimg2cbf support
<TR><TD VALIGN=TOP>template_pilatus6m_2463x2527.cbf
<TD>&nbsp;&nbsp;Update pilatus6m template for correct detector axis definitions,
better comments and to list all categories used by SLS.
<TR><TD VALIGN=TOP>template_adscquantum315_3072x3072_rev.cbf
<TD>&nbsp;&nbsp;New, corrected ADSC Quantum 315 template.

</TABLE>


<HR>
<H3><A NAME="0.7.8.1">Release 0.7.8.1</A>, Chris Nielsen, Herbert J. Bernstein, 28 July 2007</H3>
<P>
<TABLE>
<TR><TH ALIGN=LEFT WIDTH="18%">Source File<TH ALIGN=LEFT>Change
<TR><TD VALIGN=TOP>cbf.c
<TD>&nbsp;&nbsp;Rework cbf_free_handle to ensure release
of memory from root, not current position.  Rework
cbf_read_anyfile to ensure close of file stream
on all exit cases.  Fix save frame code in
cbf_validate to restart counts on each save frame.
Add name, idname and aliasname types from
latest DDL2 dictionary. 
<TR><TD VALIGN=TOP>cbf_alloc.c, cbf_alloc.h
<TD>&nbsp;&nbsp;Add cbf_free_text to avoid type punning warnings
from gcc 4.  Add memory debug based on adding -DCBFLIB_MEM_DEBUG
to CFLAGS.  
<TR><TD VALIGN=TOP>cbf_simple.c
<TD>&nbsp;&nbsp;Add code to ensure against memory leaks
when working with a detector or positioner object.
<TR><TD VALIGN=TOP>cbf.stx.y, cbf_stx.c
<TD>&nbsp;&nbsp;Add calls to cbf_undo_links and cbf_free_text
to clean up memory leaks in parser.  Add validation calls
to mark end of save frames.
<TR><TD VALIGN=TOP>cbf_tree.c, cbf_tree.h
<TD>&nbsp;&nbsp;Add cbf_undo_links to recover memory from
links used to rotate among columns of a table.  Rework
cbf_free_node to avoid memory leaks.
<TR><TD VALIGN=TOP>cbf_uncompressed.c
<TD>&nbsp;&nbsp;Add #define __USE_XOPEN to avoid
a warning on use of swab on some systems.
<TR><TD VALIGN=TOP>sauter_test.C Makefile.m4
<TD>&nbsp;&nbsp;Add sauter_test to stress test for memory leaks.
On make install, place cbf.h and cbf_simple.h into include
directory.
</TABLE>


<HR>
<H3><A NAME="0.7.8">Release 0.7.8</A>, Herbert J. Bernstein, 8 July 2007</H3>
<P>
<TABLE>
<TR><TH ALIGN=LEFT WIDTH="18%">Source File<TH ALIGN=LEFT>Change
<TR><TD VALIGN=TOP>cbf_simple.c
<TD>&nbsp;&nbsp;Update handling of both beam center and
reference beam center to allow for units and new dictionary.
<TR><TD VALIGN=TOP>convert_minicbf.c
<TD>&nbsp;&nbsp;Add code to handle data in _array_data.header-contents.
Clean up error handling, map all SLS tags.  Add -Q option to
convert old SLS comment format to new text field format.
<TR><TD VALIGN=TOP>Makefile, Makefile_AIX, Makefile_LINUX, Makefile_OSX
<TD>&nbsp;&nbsp;As per ND add Makefile_LINUX_gcc42 and Makefile_OSX_gcc42
to handle gfortran 4.2 problems.
</TABLE>

<HR>
<H3><A NAME="0.7.7.6">Release 0.7.7.6</A>, Herbert J. Bernstein, 30 June 2007</H3>
<P>
<TABLE>
<TR><TH ALIGN=LEFT WIDTH="18%">Source File<TH ALIGN=LEFT>Change
<TR><TD VALIGN=TOP>cbf_codes.c
<TD>&nbsp;&nbsp;Fix memory leaks in base32k encoding by G. Darakev.
<TR><TD VALIGN=TOP>cbf_byte_offset.c
<TD>&nbsp;&nbsp;Fix in handling 32 bit offsets in the fast write
code, which were incorrectly handled as 16 bit offsets.
<TR><TD VALIGN=TOP>Makefile, Makefile_AIX, Makefile_LINUX, Makefile_OSX
<TD>&nbsp;&nbsp;Add M4FLAGS variable to control m4 expansion of
f90 test programs with different record lengths.  For g95, the
record length must not be larger than the padding.
</TABLE>


<HR>
<H3><A NAME="0.7.7.5">Release 0.7.7.5</A>, Herbert J. Bernstein, 9 May 2007</H3>
<P>
<TABLE>
<TR><TH ALIGN=LEFT WIDTH="18%">Source File<TH ALIGN=LEFT>Change
<TR><TD VALIGN=TOP>cbf_codes.c
<TD>&nbsp;&nbsp;Change from use of bzero to memset and remove
include of strings.h
<TR><TD VALIGN=TOP>cbf_codes.c
<TD>&nbsp;&nbsp;Change from use of bzero to memset and remove
include of strings.h
<TR><TD VALIGN=TOP>cbf_simple.c
<TD>&nbsp;&nbsp;Fix ordering of dimensions in cbf_get_3d_array_size
and handling of non-zero binary ids to fix problems with
cbf_get_image and cbf_get_image_size
<TR><TD VALIGN=TOP>cbf_uncompressed.c
<TD>&nbsp;&nbsp;Add include of unistd.h for use of swab on
more systems
<TR><TD VALIGN=TOP>Makefile
<TD>&nbsp;&nbsp;Introduce $(TIME) variable for time command so
it can be suppressed in windows
<TR><TD VALIGN=TOP>fcb_read_bits.m4
<TD>&nbsp;&nbsp;Changes for g95 compatibility.
<TR><TD VALIGN=TOP>cif2c.c, cif2cbf.c, etc.
<TD>&nbsp;&nbsp;Make use of mkstemp conditional on NOMKSTEMP.  Make use
of /tmp conditional on NOTMPDIR.

 

</TABLE>


<HR>
<H3><A NAME="0.7.7.4">Release 0.7.7.4</A>, Herbert J. Bernstein, 6 May 2007</H3>
<P>
<TABLE>
<TR><TH ALIGN=LEFT WIDTH="18%">Source File<TH ALIGN=LEFT>Change
<TR><TD VALIGN=TOP>cbf_simple.c
<TD>&nbsp;&nbsp;Fix ordering of dimensions in cbf_set_3d_array.
<TR><TD VALIGN=TOP>cbf_uncompressed.c
<TD>&nbsp;&nbsp;Add include of ctype.h to provide prototype for toupper.
<TR><TD VALIGN=TOP>convert_image.c
<TD>&nbsp;&nbsp;Enable -p option for non-standard templates; correct
handling of seconds in timestamps.
<TR><TD VALIGN=TOP>convert_minicbf.c
<TD>&nbsp;&nbsp;Enable code for timestamp, exposure time, comment-style header.
<TR><TD VALIGN=TOP>fcb_packed.m4
<TD>&nbsp;&nbsp;As per H. Powell, move declarations for dimensions before
declarations of arrays.
<TR><TD VALIGN=TOP>fcb_read_image.m4
<TD>&nbsp;&nbsp;As per H. Powell, move declarations for dimensions before
declarations of arrays.
<TR><TD VALIGN=TOP>fcblib_defines.m4
<TD>&nbsp;&nbsp;As per H. Powell, move declarations for dimensions before
declarations of arrays.
</TABLE>



<HR>
<H3><A NAME="0.7.7.3">Release 0.7.7.3</A>, Herbert J. Bernstein, 3 April 2007</H3>
<P>
<TABLE>
<TR><TH ALIGN=LEFT WIDTH="18%">Source File<TH ALIGN=LEFT>Change
<TR><TD VALIGN=TOP>Makefile
<TD>&nbsp;&nbsp;Add m4 directory to build f90 sources.  Add .f90
routines to src and examples.  Add libfcb.a to lib.  Add tests
for f90 routines to extra tests.

<TR><TD VALIGN=TOP>testflat.c
<TD>&nbsp;&nbsp;Add support for 3D test.

<TR><TD VALIGN=TOP>testflatpacked.c
<TD>&nbsp;&nbsp;Add support for 3D test.

<TR><TD VALIGN=TOP>cbf_binary.c
<TD>&nbsp;&nbsp;Correct dim2,dim2 to be dim1,dim2 in check_digest.

<TR><TD VALIGN=TOP>cbf_packed.c
<TD>&nbsp;&nbsp;Correct JPA pointer logic for 3D case.  Work around
compiler problems with handling of sign bits

<TR><TD VALIGN=TOP>fcb_exit_binary.m4
<TD>&nbsp;&nbsp;New m4 macro file to build fcb_exit_binary.f90
a routine to skip from the end of a binary to the end of the text field.

<TR><TD VALIGN=TOP>fcb_next_binary.m4
<TD>&nbsp;&nbsp;New m4 macro file to build fcb_next_binary.f90
a routine to skip to the start of the next binary.

<TR><TD VALIGN=TOP>fcb_open_cifin.m4
<TD>&nbsp;&nbsp;New m4 macro file to build fcb_open_cifin.f90
a routine to open a cbf file.

<TR><TD VALIGN=TOP>fcb_packed.m4
<TD>&nbsp;&nbsp;New m4 macro file to build fcb_packed.f90
a routine to uncompress JPA packed binaries.

<TR><TD VALIGN=TOP>fcb_read_bits.m4
<TD>&nbsp;&nbsp;New m4 macro file to build fcb_read_bits.f90
a routine to read an arbitrary number of bits as an integer.

<TR><TD VALIGN=TOP>fcb_read_image.m4
<TD>&nbsp;&nbsp;New m4 macro file to build fcb_read_image.f90
a set of routines to read a byte offset or packed image

<TR><TD VALIGN=TOP>fcb_read_xds_i2.m4
<TD>&nbsp;&nbsp;New m4 macro file to build fcb_read_xds_i2.f90
a routine to read a single xds I2 image.

<TR><TD VALIGN=TOP>fcblib_define.m4
<TD>&nbsp;&nbsp;New m4 macro file of common definitions for all f90 code

<TR><TD VALIGN=TOP>test_fcb_read_image.m4
<TD>&nbsp;&nbsp;New m4 macro file of build test_fcb_read_image.f90
a test program for the f90 routines.

<TR><TD VALIGN=TOP>test_xds_binary.m4
<TD>&nbsp;&nbsp;New m4 macro file of build test_xds_binary.f90
a test program for the f90 routines.

<TR><TD VALIGN=TOP>fcb_atol_wcnt.f90
<TD>&nbsp;&nbsp;f90 code to convert a string to an integer.


<TR><TD VALIGN=TOP>fcb_ci_strncmparr.f90
<TD>&nbsp;&nbsp;f90 code to do a case-insensitive string comparison

<TR><TD VALIGN=TOP>fcb_nblen.f90
<TD>&nbsp;&nbsp;f90 code to do test the non-blank length of a string


<TR><TD VALIGN=TOP>fcb_read_byte.f90
<TD>&nbsp;&nbsp;f90 code to read a byte

<TR><TD VALIGN=TOP>fcb_read_line.f90
<TD>&nbsp;&nbsp;f90 code to read a line


<TR><TD VALIGN=TOP>fcb_skip_whitespace.f90
<TD>&nbsp;&nbsp;f90 code to skip MIME whitespace










</TABLE>


<HR>
<H3><A NAME="0.7.7.2">Release 0.7.7.2</A>, Herbert J. Bernstein, 27 February 2007</H3>
<P>
<TABLE>
<TR><TH ALIGN=LEFT WIDTH="18%">Source File<TH ALIGN=LEFT>Change
<TR><TD VALIGN=TOP>Makefile
<TD>&nbsp;&nbsp;Add testflatpacked build to extra test dependencies.

<TR><TD VALIGN=TOP>testflat.c
<TD>&nbsp;&nbsp;Add more test cases.


<TR><TD VALIGN=TOP>testflatpacked.c
<TD>&nbsp;&nbsp;Add version of testflat for packed compression.

<TR><TD VALIGN=TOP>cbf_binary.c
<TD>&nbsp;&nbsp;Add recovery of sign from mime header.

<TR><TD VALIGN=TOP>cbf_byte_offset.c
<TD>&nbsp;&nbsp;Change limit logic to simple mask and remove overflow
report.

<TR><TD VALIGN=TOP>cbf_packed.c
<TD>&nbsp;&nbsp;Change limit logic to simple mask and remove overflow
report.

<TR><TD VALIGN=TOP>cbf_uncompressed.c
<TD>&nbsp;&nbsp;Change limit logic to simple mask and remove overflow
report.

</TABLE>

<HR>


<H3><A NAME="0.7.7.1">Release 0.7.7.1</A>, Herbert J. Bernstein, 25 February 2007</H3>
<P>
<TABLE>
<TR><TH ALIGN=LEFT WIDTH="18%">Source File<TH ALIGN=LEFT>Change
<TR><TD VALIGN=TOP>Makefile
<TD>&nbsp;&nbsp;Add testflat build to extra test dependencies.

<TR><TD VALIGN=TOP>CBFlib.html
<TD>&nbsp;&nbsp;Add descriptions of cbf_get_integerarrayparameters_wdims,
cbf_get_realarrayparameters_wdims, cbf_set_integerarray_wdims,
cbf_set_realarray_wdims

<TR><TD VALIGN=TOP>cif2cbf.c
<TD>&nbsp;&nbsp;Change to use of byteorder as a pointer to a
constant string, rather than as a local copy of a string.

<TR><TD VALIGN=TOP>testflat.c
<TD>&nbsp;&nbsp;Add report of byteorder, dim1, dim2, dim2, padding.

<TR><TD VALIGN=TOP>cbf.h,<br />cbf_binary.h,<br />cbf_byte_offset.h,<br />cbf_canonical.h,<br />cbf_compress.h,<br />cbf_packed.h,<br />cbf_predictor.h,<br />cbf_read_mime.h,<br />cbf_uncompressed.h
<TD VALIGN=TOP>&nbsp;&nbsp;Change prototypes for all functions that return
byteorder from char * byteorder to const char ** byteorder.
Change prototypes of all functions that set byteorder from
char * byteorder to const char * byteorder

<TR><TD VALIGN=TOP>cbf.c,<br />cbf_binary.c,<br />cbf_byte_offset.c,<br />cbf_canonical.c,<br />cbf_compress.c,<br />cbf_lex.c,<br />cbf_packed.c,<br />cbf_predictor.c,<br />cbf_read_mime.c,<br />cbf_uncompressed.c,<br />cbf_write_binary.c
<TD VALIGN=TOP>&nbsp;&nbsp;Change signatures for all functions that return
byteorder from char * byteorder to const char ** byteorder.
Change prototypes of all functions that set byteorder from
char * byteorder to const char * byteorder, and make the matching changes
in all calls.
</TABLE>

<HR>
<H3><A NAME="0.7.7">Release 0.7.7</A>, Herbert J. Bernstein, 19 February 2007</H3>
<P>
<TABLE>
<TR><TH ALIGN=LEFT WIDTH="18%">Source File<TH ALIGN=LEFT>Change
<TR><TD VALIGN=TOP>cif2cbf.c
<TD>&nbsp;&nbsp;Add support for byte offset, packed version 2 
and flat compression, and binary section padding.  Add support
for base-32K encoding.  Allow command line compression to
override compression_type in the file and to set 
compression_type_flag.

<TR><TD VALIGN=TOP>convert_image.c
<TD>&nbsp;&nbsp;Add support for new -R and -F flags, for
use of reference beam center and flat packed compression
respectively.

<TR><TD VALIGN=TOP>cbf.h
<TD>&nbsp;&nbsp;Add constants CBF_PACKED_V2
for packed version 2 compression, 
CBF_UNCORRELATED_SECTIONS for uncorrelated
sections in packed compression,
CBF_FLAT_IMAGE for original CBFlib
packed compression, PAD_1K, PAD_2K and
PAD_4K for trailing pad on binary sections,
ENC_BASE32K for base 32K encoding.  Fix bad
code in DEBUG mode for failnez macros.
Add prototypes for cbf_get_arrayparameters_wdims,
cbf_get_integerarrayparameters_wdims,
cbf_get_realarrayparameters_wdims,
cbf_set_integerarray_wdims,
cbf_set_realarray_wdims,
cbf_mpint_load_acc,
cbf_mpint_store_acc,
cbf_mpint_clear_acc,
cbf_mpint_increment_acc,
cbf_mpint_decrement_acc,
cbf_mpint_negate_acc,
cbf_mpint_add_acc,
cbf_mpint_rightshift_acc,
cbf_mpint_leftshift_acc.
<TR><TD VALIGN=TOP>cbf_binary.h
<TD>&nbsp;&nbsp;Update prototypes
for cbf_get_bintext, cbf_set_bintext,
cbf_set_binary, cbf_binary_parameters,
cbf_get_binary to carry byteorder,
dimensions and padding.
<TR><TD VALIGN=TOP>cbf_byte_offset.h
<TD>&nbsp;&nbsp;Update prototypes
for cbf_compress_byte_offset,
cbf_decompress_byte_offset to carry byteorder,
dimensions and padding.
<TR><TD VALIGN=TOP>cbf_canonical.h
<TD>&nbsp;&nbsp;Update prototypes
for cbf_compress_canonical,
cbf_decompress_canonical to carry byteorder,
dimensions and padding.
<TR><TD VALIGN=TOP>cbf_codes.h
<TD>&nbsp;&nbsp;Add prototypes for base 32K
encoding: cbf_tobase32k, cbf_encode32k_bit_op,
cbf_isBigEndian, cbf_endianFix,
cbf_frombase32k, cbf_decode32k_bit_op.
<TR><TD VALIGN=TOP>cbf_compress.h
<TD>&nbsp;&nbsp; Update prototypes
for cbf_compress, cbf_decompress
to carry byteorder,
dimensions and padding.
<TR><TD VALIGN=TOP>cbf_packed.h
<TD>&nbsp;&nbsp;Update prototypes
for cbf_compress_packed,
cbf_decompress_packed to carry byteorder,
dimensions and padding.
<TR><TD VALIGN=TOP>cbf_predictor.h
<TD>&nbsp;&nbsp;Update prototypes
for cbf_compress_predictor,
cbf_decompress_predictor to carry byteorder,
dimensions and padding.
<TR><TD VALIGN=TOP>cbf_read_mime.h
<TD>&nbsp;&nbsp;Update prototype
for cbf_parse_mimeheader to carry byteorder,
dimensions and padding.
<TR><TD VALIGN=TOP>cbf_simple.h
<TD>&nbsp;&nbsp;Add prototypes for
cbf_get_3d_array_size,
cbf_get_3d_array,
cbf_get_3d_image_size,
cbf_get_3d_image,
cbf_get_map_array_id,
cbf_get_map_segment_mask,
cbf_get_map_segment_size,
cbf_get_map_segment,
cbf_get_real_3d_image,
cbf_get_real_map_segment,
cbf_get_real_map_segment_mask,
cbf_set_3d_array,
cbf_set_3d_image,
cbf_set_map_segment,
cbf_set_map_segment_mask,
cbf_set_real_3d_image,
cbf_set_real_map_segment,
cbf_set_real_map_segment_mask.

<TR><TD VALIGN=TOP>cbf_uncompressed.h
<TD>&nbsp;&nbsp;Update prototypes
for cbf_compress_none,
cbf_decompress_none to carry byteorder,
dimensions and padding.


<TR><TD VALIGN=TOP>Makefile
<TD>&nbsp;&nbsp;Update version and tests
to work against data files in
CBFlib_0.7.7_Data_Files.

<TR><TD VALIGN=TOP>cbf.c
<TD>&nbsp;&nbsp;
Remove compiler warnings on signedness
and type punned pointers.
Fix bug in detection of local real format.
Add base32K support.
Fix inverted test in value range checking.
Add new routines cbf_get_arrayparameters_wdims,
cbf_get_integerarrayparameters_wdims,
cbf_get_realarrayparameters_wdims,
cbf_set_integerarray_wdims,
cbf_set_realarray_wdims,
cbf_mpint_load_acc,
cbf_mpint_store_acc,
cbf_mpint_clear_acc,
cbf_mpint_increment_acc,
cbf_mpint_decrement_acc,
cbf_mpint_negate_acc,
cbf_mpint_add_acc,
cbf_mpint_rightshift_acc,
cbf_mpint_leftshift_acc.

<TR><TD VALIGN=TOP>cbf.stx.y
<TD>&nbsp;&nbsp;Temporarily change to
use of YYSTYPE argument type to
remove an error when compiling under
on MS Windows.  A better solution is
needed./

<TR><TD VALIGN=TOP>cbf_binary.c
<TD>&nbsp;&nbsp;Update cbf_get_bintext, cbf_set_bintext,
cbf_set_binary, cbf_binary_parameters,
cbf_get_binary to carry byteorder,
dimensions and padding.

<TR><TD VALIGN=TOP>cbf_byte_offset.c
<TD>&nbsp;&nbsp;Implement byte_offset
compression and decompression as
designed by A. Hammersley and
modified by W. Kabsch.

<TR><TD VALIGN=TOP>cbf_canonical.c
<TD>&nbsp;&nbsp;Fix warnings from gcc 4
on punned pointers.  Update  cbf_compress_canonical,
cbf_decompress_canonical to carry byteorder,
dimensions and padding.

<TR><TD VALIGN=TOP>cbf_codes.c
<TD>&nbsp;&nbsp;Add support forr base 32K
encoding: cbf_tobase32k, cbf_encode32k_bit_op,
cbf_isBigEndian, cbf_endianFix,
cbf_frombase32k, cbf_decode32k_bit_op.

<TR><TD VALIGN=TOP>cbf_compress.c
<TD>&nbsp;&nbsp; Update 
 cbf_compress, cbf_decompress
 carry byteorder,
dimensions and padding.


<TR><TD VALIGN=TOP>cbf_file.c
<TD>&nbsp;&nbsp;Fix warnings from gcc 4
on punned pointers.


<TR><TD VALIGN=TOP>cbf_lex.c
<TD>&nbsp;&nbsp;Add support for
byteorder, dimensions and padding
and base 32K encoding.

<TR><TD VALIGN=TOP>cbf_packed.c
<TD>&nbsp;&nbsp;Update cbf_compress_packed,
cbf_decompress_packed to carry byteorder,
dimensions and padding.  Add support
for J. P. Abrahams packed compression,
versions 1 and 2, while preserving
support for original CBFlib flat packed
compression.  Add support for 64 bit
elements.


<TR><TD VALIGN=TOP>cbf_predictor.c
<TD>&nbsp;&nbsp;Update cbf_compress_predictor,
cbf_decompress_predictor to carry byteorder,
dimensions and padding.

<TR><TD VALIGN=TOP>cbf_simple.c
<TD>&nbsp;&nbsp;Change logic of most
image handling routines to work as special
cases of 3d routines.  Add new routines
cbf_get_detector_id,
cbf_get_real_map_segment,
cbf_get_real_map_segment_mask,
cbf_set_map_segment,
cbf_set_map_segment_mask,
cbf_set_real_map_segment,
cbf_set_real_map_segment_mask,
cbf_get_3d_array_size,
cbf_get_3d_array,
cbf_set_3d_array,
cbf_get_axis_reference_setting,
cbf_set_axis_reference_setting,
cbf_construct_reference_detector,
cbf_require_reference_detector,
cbf_set_reference_beam_center.


<TR><TD VALIGN=TOP>cbf_read_mime.c
<TD>&nbsp;&nbsp;Update cbf_parse_mimeheader to read
MIME headers for new compression types and
flags and byteorder, dimensions and padding.
Add support for base 32K encoding.

<TR><TD VALIGN=TOP>cbf_tree.c
<TD>&nbsp;&nbsp;Fix warnings from gcc 4
on punned pointers.

<TR><TD VALIGN=TOP>cbf_uncompressed.c
<TD>&nbsp;&nbsp;Fix handling of 64-bit
reads and writes. 

<TR><TD VALIGN=TOP>cbf_write_binary.c
<TD>&nbsp;&nbsp;Add code to write out
base-32K encoded sections, to write
byte order, dimensions and padding.  Add code
to write out MIME headers for
packed compressions or packed version 2
compression with flags for uncorrelated
sections and for flat packed images.
</TABLE>

<HR>
<H3><A NAME="0.7.6">Release 0.7.6</A>, Herbert J. Bernstein, 15 July 2006</H3>
<P>
<TABLE>
<TR><TH ALIGN=LEFT WIDTH="18%">Source File<TH ALIGN=LEFT>Change
<TR><TD VALIGN=TOP>cbf.h
<TD>&nbsp;&nbsp;Add include of stdio.h; change CBF_LINELENGTH
into CBF_LINELENGTH_10 and CBF_LINELENGTH_11; add new symbols
CBF_CASE_INSENSITIVE, CBF_CASE_SENSITIVE, CBF_LOGERROR,
CBF_LOGWARNING, CBF_LOGWOLINE, CBF_LOGWOCOLUMN, CBF_LOGSTARTLOC,
CBF_LOGCURRENTLOC; add information on input file and
log file to cbf handle struct; and prototypes for
cbf_read_widefile, cbf_write_local_file, cbf_write_widefile,
cbf_column_number, cbf_blockitem_number, cbf_warning,
cbf_error, cbf_log, cbf_increment_column, cbf_reset_column,
cbf_reset_refcounts, cbf_validate; added valuerow argument 
to cbf_set_hashedvalue
and caseinsensitive to cbf_find_hashedvalue.
<TR><TD VALIGN=TOP>cbf.c
<TD>&nbsp;&nbsp;In cbf_make_handle, added include of cbf_ascii.h,
initialized handle->logfile, handle->warnings, handle->errors,
handle->startline, handle->startcolumn; added new routine
cbf_set_logfile; in cbf_free_handle removed gcc4 warning;
broke up cbf_read_file into cbf_read_anyfile, cbf_read_file,
added two more entries to parse array, one for the cbf handle
and one to carry an auxillary node, such as a parent
category; in cbf_write_file, reset reference counts; added
new routine cbf_write_local_file to allow writing of a local
portion of a cbf instead of the whole thing; added new routines
cbf_column_number and cbf_blockitem_number; added new
routine cbf_log to report parse errors with line numbers;
fixed cbf_require_category when dealing with null datablocks;
fixed cbf_require_column to preserve current row number;
fixed inverted logic in cbf_require_dictionary; rewrote
cbf_set_hashed_value to deal with insertions correctly;
revised cbf_find_hashedvalue to survive commong errors;
revised cbf_convert_dictionary_definition to recover
category information properly and top deal with more
complex loop-singleton interactions; added new routines
cbf_increment_column, cbf_reset_column, cbf_reset_refcounts;
updated cbf_convert_dictionary to align database with changes
in cbf_convert_dictionary_definition and to distribute
unspecified items from parents to children; fixed 
cbf_find_local_tag for DDL1 names and categories;
updated cbf_find_category_root and cbf_require_category_root
to allow for DDL1 categories drawn from dictionaries; 
changed cbf_find_tag_root and cbf_set_tag_root to use 
cbf_find_hashedvalue and cbf_set_hashedvalue; added routines
cbf_check_category_tags, cbf_validate.
<TR><TD VALIGN=TOP>cbf.stx.y
<TD>&nbsp;&nbsp;To facilitate validation, changed save frame
logic to append partial save frame to the base cif from the
beginning instead of waiting for the end of the save frame;
added cbf_validate calls at all levels and provided detailed
parse form common errors with reports via cbf_log
<TR><TD VALIGN=TOP>cbf_ascii.h
<TD>&nbsp;&nbsp;Add prototype for cbf_foldtextline.
<TR><TD VALIGN=TOP>cbf_ascii.c
<TD>&nbsp;&nbsp;Added new routine cbf_foldtextline; in
cbf_write_ascii changed logic to no longer backslash-quote
individual embedded semicolons in text fields and to
use full line-folding spec;
<TR><TD VALIGN=TOP>cbf_canonical.c
<TD>&nbsp;&nbsp;fixed gcc4 warning.
<TR><TD VALIGN=TOP>cbf_cantext.c
<TD>&nbsp;&nbsp;fixed gcc4 warnings.
<TR><TD VALIGN=TOP>cbf_file.h
<TD>&nbsp;&nbsp;Add columnlimit to strcut; add
prototype for cbf_make_widefile.
<TR><TD VALIGN=TOP>cbf_file.c
<TD>&nbsp;&nbsp;In cbf_make_file added intialization of line 
length; added new routine cbf_make_widefile; in
cbf_read_character do not increment column number at EOF;
in cbf_read_line report lines over the limit
<TR><TD VALIGN=TOP>cbf_lex.c
<TD>&nbsp;&nbsp;Added lexical validation for line length,
illegal characters, long data block names, long save frame
names, failure to provide whitespace after loop_, unterminated
quoted strings.
<TR><TD VALIGN=TOP>cbf_packed.c
<TD>&nbsp;&nbsp;Fix gcc4 warnings
<TR><TD VALIGN=TOP>cbf_read_mime.c
<TD>&nbsp;&nbsp;Pick up corrections to parse of types from
work by GD for X-BASE32K.
<TR><TD VALIGN=TOP>cbf_simple.h
<TD>&nbsp;&nbsp;Add prototypes for cbf_get_bin_sizes, 
cbf_set_bin_sizes
<TR><TD VALIGN=TOP>cbf_simple.c
<TD>&nbsp;&nbsp;Changed cbf_read_template to use cbf_read_widefile;
added new routines cbf_get_bin_sizes and cbf_set_bin_sizes;
changed cbf_set_gain, cbf_set_overload, cbf_set_integration_time,
cbf_set_datestamp, cbf_set_axis_setting to force in intervening 
categories and columns; in cbf_free_positioner, cbf_free_detector,
fixed gcc4 warnings; revised cbf_set_beam_center to adjust the
displacement rather than the offset.
<TR><TD VALIGN=TOP>cbf_tree.h
<TD>&nbsp;&nbsp;Add symbol for CBF_VALUE as a node type to
use for validation; add prototype for cbf_find_last_typed_child.
<TR><TD VALIGN=TOP>cbf_tree.c
<TD>&nbsp;&nbsp;In cbf_free_node fixed gcc4 warning; added
new routine cbf_find_last_typed_child; changed cbf_make_child
to use cbf_find_last_typed_child instead of cbf_fid_last_child
to avoid confusion between categories and save frames when
the same name is used for both; changed cbf_compute_hashcode
to return values between 0 and 255.
<TR><TD VALIGN=TOP>cbf_write.d
<TD>&nbsp;&nbsp;Add prototype for cbf_compose_itemname.
<TR><TD VALIGN=TOP>cbf_write.c
<TD>&nbsp;&nbsp;In cbf_set_value fold text fields that contain
the text field terminator; add new routine cbf_compose_itemname,
int cbf_write_itemname catch names that are too long; 
<TR><TD VALIGN=TOP>cif2cbf.c
<TD>&nbsp;&nbsp;Add "-v dictionary" command line argument
and suppress output to /dev/null and "-w" to process a
wide file; add hooks (based on symbol GNUGETOPT) to use
a local copy of getopt; add text for error exits; add code
to load layered dictionaries.
<TR><TD VALIGN=TOP>convert_image.c
<TD>&nbsp;&nbsp;Add text for error exits; add logic for
binning; alias support with command line arguments
"-c category_alias=category_root" and "-t tag_alias=tag_root",
change from _diffrn_detector.sample_detector_distance
to _diffrn_measurement.sample_detector_distance; change
to support row-major images to agree with adxv; remove
most advisory messages to stdout.
<TR><TD VALIGN=TOP>img.h
<TD>&nbsp;&nbsp;Added rowmajor to struct; redefined img_pixel
to be conditional on rowmajor; added img_pixelptr to get
the pointers to the image.
<TR><TD VALIGN=TOP>img.c
<TD>&nbsp;&nbsp;Added recognition of ADSC QUANTUM315;
added row major support
<TR><TD VALIGN=TOP>img2cif.c
<TD>&nbsp;&nbsp;Changed to use to new img.h macros
<TR><TD VALIGN=TOP>makecbf.c
<TD>&nbsp;&nbsp;Changed to use to new img.h macros

</TABLE>

<HR>
<H3><A NAME="0.7.5">Release 0.7.5</A>, Herbert J. Bernstein, 15 April 2006</H3>
<P>
<TABLE>
<TR><TH ALIGN=LEFT WIDTH="18%">Source File<TH ALIGN=LEFT>Change


<TR><TD VALIGN=TOP>cbf.c
<TD>&nbsp;&nbsp;Revised header for open source licenses; added
support for aliases, dictionaries and real arrays; added
convenience routines to do searches with default creation
of what is being searched for; added reference count and 
dictionary link for cbf handles; added cbf_new_saveframe, 
cbf_force_new_saveframe, cbf_set_saveframename,
cbf_reset_saveframe, cbf_remove_saveframe, cbf_rewind_saveframe,
cbf_rewind_blockitem, cbf_next_saveframe, cbf_next_blockitem,
cbf_select_saveframe, cbf_select_blockitem, cbf_find_saveframe,
cbf_require_row, cbf_require_nextrow, cbf_count_saveframes,
cbf_count_blockitems, cbf_saveframe_name, cbf_require_value, 
cbf_require_integervalue, cbf_require_doublevalue, 
cbf_get_realarrayparameters, cbf_get_realarray, cbf_set_realarray,
cbf_require_datablock, cbf_require_category, cbf_require_column, 
cbf_require_column_value, cbf_require_column_integervalue, 
cbf_require_column_doublevalue, cbf_get_local_integer_byte_order,
cbf_get_local_real_byte_order, cbf_get_local_real_format,
cbf_get_dictionary, cbf_set_dictionary, cbf_require_dictionary, 
cbf_set_hashedvalue, cbf_find_hashedvalue, 
cbf_convert_dictionary_definition, cbf_convert_dictionary, 
cbf_find_tag, cbf_find_local_tag, cbf_srch_tag, 
cbf_find_category_root, cbf_require_category_root,
cbf_set_category_root, cbf_find_tag_root, cbf_require_tag_root,
cbf_set_tag_root, cbf_find_tag_category, cbf_set_tag_category.


<TR><TD VALIGN=TOP>cbf.h
<TD>&nbsp;&nbsp;Revised header for open source licenses;
added definitions of CBF_API_VERSION  and CBF_DIC_VERSION;
changed the debug versions of cbf_failnez and cbf_onfailnez
to stringfy the argument; added dictionary and reference
count to cbf_handle definition; added prototypes for
cbf_new_saveframe, cbf_force_new_saveframe, cbf_set_saveframename,
cbf_remove_saveframe, cbf_rewind_saveframe, cbf_rewind_blockitem, 
cbf_next_saveframe, cbf_next_blockitem, cbf_saveframe_name,
cbf_select_saveframe, cbf_select_blockitem, cbf_find_saveframe,
cbf_require_row, cbf_require_nextrow, cbf_count_saveframes, 
cbf_count_blockitems, cbf_require_value, 
cbf_require_integervalue, cbf_require_doublevalue, 
cbf_get_realarrayparameters, cbf_get_realarray, cbf_set_realarray, 
cbf_require_datablock, cbf_require_category, cbf_require_column, 
cbf_require_column_value, cbf_require_column_integervalue, 
cbf_require_column_doublevalue, cbf_get_local_integer_byte_order, 
cbf_get_local_real_byte_order, cbf_get_local_real_format, 
cbf_get_dictionary, cbf_set_dictionary, cbf_require_dictionary,
cbf_set_hashedvalue, cbf_find_hashedvalue, 
cbf_convert_dictionary_definition, cbf_convert_dictionary, 
cbf_find_tag, cbf_find_local_tag, cbf_srch_tag, 
cbf_find_category_root, cbf_require_category_root, 
cbf_set_category_root, cbf_find_tag_root, cbf_require_tag_root,
cbf_set_tag_root, cbf_find_tag_category, cbf_set_tag_category,


<TR><TD VALIGN=TOP>cbf_alloc.c
<TD>&nbsp;&nbsp;Revised header for open source licenses.

<TR><TD VALIGN=TOP>cbf_alloc.h
<TD>&nbsp;&nbsp;Revised header for open source licenses.

<TR><TD VALIGN=TOP>cbf_ascii.c
<TD>&nbsp;&nbsp;Revised header for open source licenses.

<TR><TD VALIGN=TOP>cbf_ascii.h
<TD>&nbsp;&nbsp;Revised header for open source licenses.

<TR><TD VALIGN=TOP>cbf_binary.c
<TD>&nbsp;&nbsp;Revised header for open source licenses;
added support of real arrays.

<TR><TD VALIGN=TOP>cbf_binary.h
<TD>&nbsp;&nbsp;Revised header for open source licenses;
added support of real arrays.

<TR><TD VALIGN=TOP>cbf_byte_offset.c
<TD>&nbsp;&nbsp;Revised header for open source licenses;
changed signature for support of real arrays; no actual
changes to the code.


<TR><TD VALIGN=TOP>cbf_byte_offset.h
<TD>&nbsp;&nbsp;Revised header for open source licenses;
changed signature for support of real arrays; no actual
changes to the code.


<TR><TD VALIGN=TOP>cbf_canonical.c	
<TD>&nbsp;&nbsp;Revised header for open source licenses;
changed signatures for support of real arrays; no actual
changes to the code.


<TR><TD VALIGN=TOP>cbf_canonical.h
<TD>&nbsp;&nbsp;Revised header for open source licenses;
changed signatures for support of real arrays; no actual
changes to the code.

<TR><TD VALIGN=TOP>cbf_codes.c	
<TD>&nbsp;&nbsp;Revised header for open source licenses.

<TR><TD VALIGN=TOP>cbf_codes.h	
<TD>&nbsp;&nbsp;Revised header for open source licenses.

<TR><TD VALIGN=TOP>cbf_compress.c	
<TD>&nbsp;&nbsp;Revised header for open source licenses;
added support of real arrays.

<TR><TD VALIGN=TOP>cbf_compress.h	
<TD>&nbsp;&nbsp;Revised header for open source licenses;
added support of real arrays.

<TR><TD VALIGN=TOP>cbf_context.c	
<TD>&nbsp;&nbsp;Revised header for open source licenses.

<TR><TD VALIGN=TOP>cbf_context.h	
<TD>&nbsp;&nbsp;Revised header for open source licenses.

<TR><TD VALIGN=TOP>cbf_file.c
<TD>&nbsp;&nbsp;Revised header for open source licenses;
added support of real arrays, making extensive changes
to the handling of integers to get past 32 bit limits.


<TR><TD VALIGN=TOP>cbf_file.h
<TD>&nbsp;&nbsp;Revised header for open source licenses..

<TR><TD VALIGN=TOP>cbf_lex.c
<TD>&nbsp;&nbsp;Revised header for open source licenses;
added save frame support; required whitespace before a
comment; changed WORD to CBFWORD; corrected quoted string
parse to allow for a blank immediately after the opening 
quote mark.

<TR><TD VALIGN=TOP>cbf_lex.h
<TD>&nbsp;&nbsp;Revised header for open source licenses.

<TR><TD VALIGN=TOP>cbf_packed.c	
<TD>&nbsp;&nbsp;Revised header for open source licenses;
changed signatures for support of real arrays; no actual
changes to the code.

<TR><TD VALIGN=TOP>cbf_packed.h	
<TD>&nbsp;&nbsp;Revised header for open source licenses;
changed signatures for support of real arrays; no actual
changes to the code.


<TR><TD VALIGN=TOP>cbf_predictor.c	
<TD>&nbsp;&nbsp;Revised header for open source licenses;
changed signatures for support of real arrays; no actual
changes to the code.

<TR><TD VALIGN=TOP>cbf_predictor.h	
<TD>&nbsp;&nbsp;Revised header for open source licenses;
changed signatures for support of real arrays; no actual
changes to the code.


<TR><TD VALIGN=TOP>cbf_read_binary.c	
<TD>&nbsp;&nbsp;Revised header for open source licenses.


<TR><TD VALIGN=TOP>cbf_read_binary.h	
<TD>&nbsp;&nbsp;Revised header for open source licenses.


<TR><TD VALIGN=TOP>cbf_read_mime.c	
<TD>&nbsp;&nbsp;Revised header for open source licenses;
added support for real arrays.

<TR><TD VALIGN=TOP>cbf_read_mime.h	
<TD>&nbsp;&nbsp;Revised header for open source licenses;
added support for real arrays.


<TR><TD VALIGN=TOP>cbf_simple.c	
<TD>&nbsp;&nbsp;Revised header for open source licenses;
increased precision of all numbers to 15 digits;
added support for cells and orientation matrices; built 
in support for diffrn_frame_data as an alternative to 
diffrn_data_frame; added new routines cbf_require_diffrn_id,
cbf_get_pixel_size, cbf_set_pixel_size, cbf_get_real_image,
cbf_set_real_image, int cbf_require_detector,
cbf_set_beam_center, cbf_get_inferred_pixel_size,
cbf_get_unit_cell, cbf_set_unit_cell, cbf_get_reciprocal_cell,
cbf_set_reciprocal_cell, cbf_compute_cell_volume,
cbf_compute_reciprocal_cell, cbf_get_orientation_matrix,
cbf_set_orientation_matrix; added braces to deal with
compiler warnings on dangling else.


<TR><TD VALIGN=TOP>cbf_simple.h	
<TD>&nbsp;&nbsp;Revised header for open source licenses;
added prototypes for  cbf_require_diffrn_id, 
cbf_get_array_id, cbf_get_pixel_size, cbf_set_pixel_size, 
cbf_get_real_image, cbf_set_real_image, 
cbf_require_detector, cbf_set_beam_center, 
cbf_get_inferred_pixel_size, cbf_get_unit_cell, 
cbf_set_unit_cell, cbf_get_reciprocal_cell, 
cbf_set_reciprocal_cell, cbf_compute_cell_volume, 
cbf_compute_reciprocal_cell, cbf_get_orientation_matrix, 
cbf_set_orientation_matrix.



<TR><TD VALIGN=TOP>cbf_string.c	
<TD>&nbsp;&nbsp;Revised header for open source licenses.

<TR><TD VALIGN=TOP>cbf_string.h
<TD>&nbsp;&nbsp;Revised header for open source licenses.


<TR><TD VALIGN=TOP>cbf_stx.c	
<TD>&nbsp;&nbsp;Rebuilt from new cbf.stx.y.


<TR><TD VALIGN=TOP>cbf_stx.h	
<TD>&nbsp;&nbsp;Changed WORD to CBFWORD; added SAVE and
SAVEEND.


<TR><TD VALIGN=TOP>cbf.stx.y	
<TD>&nbsp;&nbsp;Revised header for open source licenses;
Revised grammar to support save frames and to be
more comprehensible; changed name from cbf.stx


<TR><TD VALIGN=TOP>cbf_tree.c	
<TD>&nbsp;&nbsp;Revised header for open source licenses;
added code to support save frames, allowing typed
searches for children; added new routines cbf_find_typed_child,
cbf_count_typed_children, cbf_compute_hashcode.


<TR><TD VALIGN=TOP>cbf_tree.c	
<TD>&nbsp;&nbsp;Revised header for open source licenses;
added definition of CBF_SAVEFRAME as node type; added
prototypes for cbf_find_typed_child, cbf_count_typed_children, 
cbf_compute_hashcode.

<TR><TD VALIGN=TOP>cbf.uncompressed.c	
<TD>&nbsp;&nbsp;Revised header for open source licenses;
Added support for real arrays, and to remove 32 bit limits.

<TR><TD VALIGN=TOP>cbf.uncompressed.h	
<TD>&nbsp;&nbsp;Revised header for open source licenses;
Added support for real arrays.

<TR><TD VALIGN=TOP>cbf.write.c	
<TD>&nbsp;&nbsp;Revised header for open source licenses;
added support for save frames and aliases; changed logic
for single row categories to present item-by-item,
instead of as a loop except for vectors and matrices,
present matrices row by row; carried cbf handle through
nest of calls.

<TR><TD VALIGN=TOP>cbf.write.h	
<TD>&nbsp;&nbsp;Revised header for open source licenses;
adjusted prototype of cbf_write_node to carry the
cbf handle as the first argument.


<TR><TD VALIGN=TOP>cbf.write_binary.c	
<TD>&nbsp;&nbsp;Revised header for open source licenses;
added support for real arrays.

<TR><TD VALIGN=TOP>cbf.write_binary.h	
<TD>&nbsp;&nbsp;Revised header for open source licenses.


<TR><TD VALIGN=TOP>Makefile
<TD>&nbsp;&nbsp;Revised header for open source licenses;
defined C++; added symbol RANLIB for use on systems that
require a ranlib pass after creating a library with ar; 
added build and tests of testcell and cif2c; added
ADSC test case to tests of convert_image; updated list
of contents of tar;changed cbf.stx to cbf.stx.y.

<TR><TD VALIGN=TOP>connvert_image.c
<TD>&nbsp;&nbsp;Revised header for open source licenses;
added command line arguments for detector name, detector
distance, rotation and reflection of the image; added
usage report on errors; added code for axis transforms;
added code to report image header fields; cleaned up PHI
reporting; recovered pixel size and beam center from header;
commented out most debug code.

<TR><TD VALIGN=TOP>cif2cbf.c
<TD>&nbsp;&nbsp;Revised header for open source licenses;
renamed BUFSIZ as C2CBUFSIZ to remove a compiler warning;
process save frames.

<TR><TD VALIGN=TOP>img2cif.c
<TD>&nbsp;&nbsp;Revised header for open source licenses;
renamed BUFSIZ as I2CBUFSIZ to remove a compiler warning.

<TR><TD VALIGN=TOP>testcell.C
<TD>&nbsp;&nbsp;New program to test cell functions.

<TR><TD VALIGN=TOP>cif2c.c
<TD>&nbsp;&nbsp;New program to test cell functions.

</TABLE>

<HR>
<H3><A NAME="0.7.4">Release 0.7.4</A>, Herbert J. Bernstein, 12 January 
2004</H3>
<P>
<TABLE>
<TR><TH ALIGN=LEFT WIDTH="18%">Source File<TH ALIGN=LEFT>Change
<TR><TD VALIGN=TOP>cbf.c
<TD>&nbsp;&nbsp;added cbf_set_typeofvalue, cbf_get_typeofvalue; added
braces for nested if-else to remove a compiler warning.
<TR><TD VALIGN=TOP>cbf_ascii.c
<TD>&nbsp;&nbsp;added
braces to remove a compiler warnings.
<TR><TD VALIGN=TOP>cbf_binary.c
<TD>&nbsp;&nbsp;added
braces to remove a compiler warnings.
<TR><TD VALIGN=TOP>cbf_canonical.c
<TD>&nbsp;&nbsp;added
braces to remove a compiler warnings.
<TR><TD VALIGN=TOP>cbf_compress.c
<TD>&nbsp;&nbsp;added
braces to remove a compiler warnings.
<TR><TD VALIGN=TOP>cbf_file.c
<TD>&nbsp;&nbsp;simplied dynamic array logic
and went to straight doubling; added
braces to remove a compiler warnings.
<TR><TD VALIGN=TOP>cbf_lex.c
<TD>&nbsp;&nbsp;changed parse of quoted
strings to allow for embedded quote marks;
removed unused variables; fixed mismatch
of formats; added braces to remove a compiler warnings.
<TR><TD VALIGN=TOP>cbf_packed.c
<TD>&nbsp;&nbsp;added
braces to remove a compiler warnings; intialized
variables.
<TR><TD VALIGN=TOP>cbf_simple.c
<TD>&nbsp;&nbsp;typed default typed variable;
removed unused variables; added
braces to remove a compiler warnings; intialized
variables.
<TR><TD VALIGN=TOP>cbf_uncompressed.c
<TD>&nbsp;&nbsp;added
braces to remove a compiler warnings.
<TR><TD VALIGN=TOP>cbf_write.c
<TD>&nbsp;&nbsp;added internal functions 
cbf_get_value_type and cbf_set_value_type
for typeofvalue functions; updated magic number
and set magic number to match dictionary, not
CBFlib version; initialized variable.
<TR><TD VALIGN=TOP>cbf.h
<TD>&nbsp;&nbsp;added new external
typeofvalue function prototypes;
added notices.
<TR><TD VALIGN=TOP>cbf_write.h
<TD>&nbsp;&nbsp;added new value_type function
prototypes.
<TR><TD VALIGN=TOP>cif2cbf.c
<TD>&nbsp;&nbsp;added code to transfer typeofvalue
from input to output to fix handling of nulls;
increased buffer to 8192 and called it BUFSIZ;
changed from tmpnam to mkstemp to remove warning;
unlinked temporary file; added braces to remove
compiler warnings.
<TR><TD VALIGN=TOP>img2cif.c
<TD>&nbsp;&nbsp;added code to transfer typeofvalue
from input to output to fix handling of nulls;
increased buffer to 8192 and called it BUFSIZ;
changed from tmpnam to mkstemp to remove warning;
unlinked temporary file; removed unused variables.
</TABLE>
<HR>
<H3><A NAME="0.7.3">Release 0.7.3</A>, Paul J. Ellis, 2 October 
2002</H3>
<P>
<TABLE>
<TR><TH ALIGN=LEFT WIDTH="18%">Source File<TH ALIGN=LEFT>Change
<TR><TD VALIGN=TOP>cbf_simple.c
<TD>&nbsp;&nbsp;modified cbf_get_image to reorder the
image data on read so that the indices are always 
increasing in memory (this behavior was undefined 
previously).
</TABLE>
<P>
Note:  Early versions of Release 0.7.3 carried the version number
0.7.2.3.  Other than the change in number on 7 Nov 2002, there is no 
difference between these versions. 
<HR>
<H3><A NAME="0.7.2.1">Release 0.7.2.1</A>, Paul J. Ellis, 7 May 
2001</H3>
<P>
<TABLE>
<TR><TH ALIGN=LEFT WIDTH="18%">Source File<TH ALIGN=LEFT>Change
<TR><TD VALIGN=TOP>cbf_simple.c
<TD>&nbsp;&nbsp;corrected nesting in if statements introduced for 
the prior mod.
</TABLE>
<HR>
<H3><A NAME="0.7.2">Release 0.7.2</A>, Herbert J. Bernstein, 22 April 2001</H3>
<P>
<TABLE>
<TR><TH ALIGN=LEFT WIDTH="18%">Source File<TH ALIGN=LEFT>Change
<TR><TD VALIGN=TOP>cbf_simple.c
<TD>&nbsp;&nbsp;changed _diffrn_measurement_axis.id (now deprecated) to _diffrn_measurement_axis.measurement_id
and _diffrn_detector_axis.id (now deprecated) to _diffrn_detector_axis.detector_id, but allowed old forms
as aliases.
</TABLE>
<HR>
<H3><A NAME="0.7.1">Release 0.7.1</A>, Paul J. Ellis, 30 March 2001</H3>
<P>
<TABLE>
<TR><TH ALIGN=LEFT WIDTH="18%">Source File<TH ALIGN=LEFT>Change
<TR><TD VALIGN=TOP>cbf_simple.c
<TD>&nbsp;&nbsp;add reserved argument to various routines;
in cbf_update_pixel use index2 instead of index1;
add new routine cbf_get_pixel_normal; 
in cbf_get_pixel_area, shift by (-0.5,-0.5)<BR>

</TABLE>
<HR>
<H3><A NAME="0.7.1">Release 0.7.1</A>, Paul J. Ellis, 13 March 2001</H3>
<P>
<TABLE>
<TR><TH ALIGN=LEFT WIDTH="18%">Source File<TH ALIGN=LEFT>Change
<TR><TD VALIGN=TOP>cbf.c
<TD>&nbsp;&nbsp;remove unused declaration of little.
<TR><TD VALIGN=TOP>cbf.h
<TD>&nbsp;&nbsp;add definitions of CBF_UNDEFINED and CBF_NOTIMPLEMENTED.
<TR><TD VALIGN=TOP>cbf_binary.c
<TD>&nbsp;&nbsp;cast type argument to (char) in cbf_copy-string call.
<TR><TD VALIGN=TOP>cbf_compress.c
<TD>&nbsp;&nbsp;remove unused declaration of compression_file.
<TR><TD VALIGN=TOP>cbf_simple.c
<TD>&nbsp;&nbsp;add this new routine for higher level calls.
<TR><TD VALIGN=TOP>cbf_simple.h
<TD>&nbsp;&nbsp;add this new header for higher level calls.
<TR><TD VALIGN=TOP>cbf_uncompressed.c
<TD>&nbsp;&nbsp;remove unused declaration of bit.
</TABLE>

<HR>
<H3><A NAME="0.6.1">Release 0.6.1</A>, H. Powell (per Herbert J. Bernstein), 23 February 2001</H3>
<P>
<TABLE>
<TR><TH ALIGN=LEFT WIDTH="18%">Source File<TH ALIGN=LEFT>Change

<TR><TD VALIGN=TOP>cbf.c
<TD>&nbsp;&nbsp;fix memory leak as corrected by H. Powell<BR>
</TABLE>
<HR>
<H3><A NAME="0.6">Release 0.6</A>, Herbert J. Bernstein, 13 January 1999</H3>
<P>
<TABLE>
<TR><TH ALIGN=LEFT WIDTH="18%">Source File<TH ALIGN=LEFT>Change

<TR><TD VALIGN=TOP>cbf.c
<TD>&nbsp;&nbsp;remove argument repeat from cbf_set_integerarray<BR>
<TR><TD VALIGN=TOP>cbf.h
<TD>&nbsp;&nbsp;remove argument repeat from cbf_set_integerarray<BR>
<TR><TD VALIGN=TOP>cbf_binary.h
<TD>&nbsp;&nbsp;carry compression id in text as argument to
                 cbf_get/set_bintext, remove repeat as argument
                 to cbf_set_binary<BR>
<TR><TD VALIGN=TOP>cbf_binary.c
<TD>&nbsp;&nbsp;carry compression id in text, rather than header,
	                as an argument to cbf_get/set_bintext, remove
	                repeat as argument to cbf_set_binary<BR>
<TR><TD VALIGN=TOP>cbf_byte_offset.h
<TD>&nbsp;&nbsp;remove argument repeat from cbf_compress_byte_offset<BR>
<TR><TD VALIGN=TOP>cbf_byte_offset.c
<TD>&nbsp;&nbsp;remove argument repeat from cbf_compress_byte_offset<BR>
<TR><TD VALIGN=TOP>cbf_canonical.
<TD>&nbsp;&nbsp;remove argument repeat from cbf_compress_canonical<BR>
<TR><TD VALIGN=TOP>cbf_canonical.c
<TD>&nbsp;&nbsp;remove argument repeat from cbf_compress_canonical<BR>
<TR><TD VALIGN=TOP>cbf_compress.h
<TD>&nbsp;&nbsp;remove argument repeat from cbf_compress, change argument
compression from pointer to value in cbf_decompress_parameters<BR>
<TR><TD VALIGN=TOP>cbf_compress.c
<TD>&nbsp;&nbsp;remove argument repeat from cbf_compress, use compression as
an input argument in cbf_decompress_parameters,
 do not write compression id<BR>
<TR><TD VALIGN=TOP>cbf_file.c
<TD>&nbsp;&nbsp;tune buffer size allocations to current size<BR>
<TR><TD VALIGN=TOP>cbf_lex.c
<TD>&nbsp;&nbsp;carry compression in text, not header, suppress
	                binary header when there is a MIME header<BR>
<TR><TD VALIGN=TOP>cbf_packed.h
<TD>&nbsp;&nbsp;remove argument repeat from cbf_compress_packed<BR>
<TR><TD VALIGN=TOP>cbf_packed.c
<TD>&nbsp;&nbsp;remove argument repeat from cbf_compress_packed<BR>
<TR><TD VALIGN=TOP>cbf_predictor.h
<TD>&nbsp;&nbsp;remove argument repeat from cbf_compress_predictor<BR>
<TR><TD VALIGN=TOP>cbf_predictor.c
<TD>&nbsp;&nbsp;remove argument repeat from cbf_compress_predictor<BR>
<TR><TD VALIGN=TOP>cbf_read_binary.h
<TD>&nbsp;&nbsp;make pointer to compression an argument 
to cbf_parse_binaryheader<BR>
<TR><TD VALIGN=TOP>cbf_read_binary.c
<TD>&nbsp;&nbsp;carry compression in text, not header, suppress
	                binary header when there is a MIME header<BR>
<TR><TD VALIGN=TOP>cbf_read_mime.h
<TD>&nbsp;&nbsp;add prototype for cbf_nblen<BR>
<TR><TD VALIGN=TOP>cbf_read_mime.c
<TD>&nbsp;&nbsp;carry compression in text, not header, suppress
	                binary header when there is a MIME header, allow
	                trailing blanks on header lines, test for early
	                terminations, allow arbitrary spacing on element
	                type, add cbf_nblen<BR>
<TR><TD VALIGN=TOP>cbf_stx.c
<TD>&nbsp;&nbsp;rebuilt from cbf.stx with bison 1.25<BR>
<TR><TD VALIGN=TOP>cbf_tree.c
<TD>&nbsp;&nbsp;tune allocation of memory for extra children
	                to current use levels<BR>
<TR><TD VALIGN=TOP>cbf_uncompressed.h
<TD>&nbsp;&nbsp;remove argument repeat from cbf_compress_none<BR>
<TR><TD VALIGN=TOP>cbf_uncompressed.c
<TD>&nbsp;&nbsp;remove argument repeat from cbf_compress_none<BR>
<TR><TD VALIGN=TOP>cbf_write.c
<TD>&nbsp;&nbsp;update version numbers in file headers<BR>
<TR><TD VALIGN=TOP>cbf_write_binary.c
<TD>&nbsp;&nbsp;carry compression in text, not header, suppress
	                binary header when there is a MIME header,
	                quote X-Binary-Element-Type<BR>
</TABLE>
<HR>
<H3><A NAME="0.5">Release 0.5</A>, Paul J. Ellis, 5 December 1998</H3>
<P>
<TABLE>
<TR><TH ALIGN=LEFT WIDTH="18%">Source File<TH ALIGN=LEFT>Change



<TR><TD VALIGN=TOP>cbf.c
<TD>&nbsp;&nbsp;Add option for immediate digest evaluation (MSG_DIGESTNOW)
	       or deferred digest evaluation (MSG_DIGEST); adjust layout
	       of error messages; remove unused repeat. <BR>
<TR><TD VALIGN=TOP>cbf.stx
<TD>&nbsp;&nbsp;Add new argument for cbf_set_columnrow.<BR>
<TR><TD VALIGN=TOP>cbf_ascii.c
<TD>&nbsp;&nbsp;Add buffer flush.<BR>
<TR><TD VALIGN=TOP>cbf_binary.c
<TD>&nbsp;&nbsp;Add call to cbf_codes.h; convert to use of cbf_get/set_bintext;
	       digests saved in the text for deferred evaluation.<BR>
<TR><TD VALIGN=TOP>cbf_byte_offset.c
<TD>&nbsp;&nbsp;Add storedbits argument on compression; remove repeat
	       on decompression.<BR>
<TR><TD VALIGN=TOP>cbf_canonical.c
<TD>&nbsp;&nbsp;Stylistic cleanup; add storedbits argument on compression; 
	       remove repeat  on decompression.<BR>
<TR><TD VALIGN=TOP>cbf_codes.c
<TD>&nbsp;&nbsp;Add routines cbf_is_base64digest, cbf_md5digest_to64,
	       flush buffers when done, general cleanup<BR>
<TR><TD VALIGN=TOP>cbf_compress.c
<TD>&nbsp;&nbsp;Add argument bits to cbf_compress and each actual compression
	       routine, add bits and remove repeat on decompression.<BR>
<TR><TD VALIGN=TOP>cbf_file.c
<TD>&nbsp;&nbsp;Reorganize digest logic; remove nblen argument from
	       cbf_read_line.<BR>
<TR><TD VALIGN=TOP>cbf_lex.c
<TD>&nbsp;&nbsp;Argument type and stylisic cleanup; allow for deferred digest
	       evaluation, adjust binary size to agree with MIME size.<BR>
<TR><TD VALIGN=TOP>cbf_packed.c
<TD>&nbsp;&nbsp;Stylistic cleanup; add storedbits argument on compression; 
	       remove repeat  on decompression.<BR>
<TR><TD VALIGN=TOP>cbf_predictor.c
<TD>&nbsp;&nbsp;Add storedbits argument on compression; remove repeat
	       on decompression.<BR>
<TR><TD VALIGN=TOP>cbf_read_mime.c
<TD>&nbsp;&nbsp;Add binary element type logic; cleanup header scan; allow for
	       deferred digest evaluation.<BR>
<TR><TD VALIGN=TOP>cbf_tree.c
<TD>&nbsp;&nbsp;Add argument free to cbf_set_columnrow.  If free is true,
	       free the old value, otherwise a user responsibility.<BR>
<TR><TD VALIGN=TOP>cbf_uncompressed.c
<TD>&nbsp;&nbsp;Add storedbits argument on compression; remove repeat
	       on decompression.<BR>
<TR><TD VALIGN=TOP>cbf_write.c
<TD>&nbsp;&nbsp;Add buffer flush.<BR>
<TR><TD VALIGN=TOP>cbf_write_binary.c
<TD>&nbsp;&nbsp;Reorganize digest calculation, adjust binary size by 8,
	       add X-Binary-E;ement-Type.<BR>
<TR><TD VALIGN=TOP>global.h
<TD>&nbsp;&nbsp;Change definition of UINT4 from unsigned long int to
               unsigned int.<BR>
<TR><TD VALIGN=TOP>md5.c
<TD>&nbsp;&nbsp;Mask 32 bits for longer words.<BR>
</TABLE>

<HR>
<H3><A NAME="0.4" WIDTH="18%">Release 0.4</A>, Herbert J. Bernstein, 15 November 1998</H3>
<P>
<TABLE>
<TR><TH ALIGN=LEFT>Source File<TH ALIGN=LEFT>Change

<TR><TD VALIGN=TOP>cbf_stx.c
<TD>&nbsp;&nbsp;rebuilt from cbf.stx with bison 1.25<BR>
<TR><TD VALIGN=TOP>cbf_binary.c
<TD>&nbsp;&nbsp;add digest, elsize, elsign to text<BR>
<TR><TD VALIGN=TOP>cbf_canonical.c
<TD>&nbsp;&nbsp;remove write of compression id<BR>
<TR><TD VALIGN=TOP>cbf_codes.h
<TD>&nbsp;&nbsp;add argument *digest to cbf_fromqp, cbf_frombase64,
cbf_frombasex<BR>
<TR><TD VALIGN=TOP>cbf_codes.c
<TD>&nbsp;&nbsp;add mpack notice, add cbf_md5context_to64, add
	                digest to cbf_from... <BR>
<TR><TD VALIGN=TOP>cbf_compress.h
<TD>&nbsp;&nbsp;add argument *digest to cbf_compress<BR>
<TR><TD VALIGN=TOP>cbf_compress.c
<TD>&nbsp;&nbsp;add digest to cbf_compress<BR>
<TR><TD VALIGN=TOP>cbf_file.h
<TD>&nbsp;&nbsp;add nscolumn, digest_buffer,
                        digest_bpoint, context to cbf_file struct,
                        add argument *nblen to cbf_read_line<BR>
<TR><TD VALIGN=TOP>cbf_file.c
<TD>&nbsp;&nbsp;add file->nscolumn, file->digest_buffer,
                        file->digest_bpoint, update digest when writing<BR>
<TR><TD VALIGN=TOP>cbf_lex.c
<TD>&nbsp;&nbsp;add notices, compute digests on intial read<BR>
<TR><TD VALIGN=TOP>cbf_packed.c 
<TD>&nbsp;&nbsp;do not write compression id<BR>
<TR><TD VALIGN=TOP>cbf_read_mime.h
<TD>&nbsp;&nbsp;add prototype for cbf_skip_whitespace, add
argument *compression to cbf_parse_mimeheader<BR>
<TR><TD VALIGN=TOP>cbf_read_mime.c
<TD>&nbsp;&nbsp;add notices, remove redundant digest calculation,
	                adjust handling of compression id, add
	                cbf_skip_whitespace, have cbf_parse_mimeheader
	                return compression id, add checks for garbled
	                files, allow more general headers<BR>
<TR><TD VALIGN=TOP>cbf_uncompressed.c
<TD>&nbsp;&nbsp;make uncompressed section free of headers<BR>
<TR><TD VALIGN=TOP>cbf_write.c
<TD>&nbsp;&nbsp;update version in headers<BR>
<TR><TD VALIGN=TOP>cbf_write_binary.c
<TD>&nbsp;&nbsp;carry digest, elsize, elsign in text rather
	                than header<BR>
</TABLE>

<HR>
<H3><A NAME="0.3" WIDTH="18%">Release 0.3.1.1</A>, Paul J. Ellis, 21 September 1998</H3>
<P>
<TABLE>
<TR><TH ALIGN=LEFT>Source File<TH ALIGN=LEFT>Change

<TR><TD VALIGN=TOP>cbf.h 
<TD>&nbsp;&nbsp;remove globals, add tolen CBF_TOKEN_MIME_BIN, change
	            MIME_NOHEADERS to PLAIN_HEADERS, add HDR_DEFAULT,
	            add arguments ciforcbf, headers, encoding to
	            cbf_write_file, add argument headers to cbf_read_file,
	            restore const in several places, merge
	            int cbf_get_integerarrayparams into
	            cbf_get_integerarrayparameters<BR>
<TR><TD VALIGN=TOP>cbf.c 
<TD>&nbsp;&nbsp; add notices, add argument headers to cbf_read_file
	             to replace use of globals in release 0.2, add
	             arguments ciforcbf, headers, encoding to cbf_write_file 
	             to replace use of globals in release 0.2, restore 
	             some uses of const, remove integerarrayparams and merge
	             arguments into cbf_get_integerparameters, replace
	             cbf_binary_params with cbf_binary_parameters with
	             extended argument list<BR>
<TR><TD VALIGN=TOP>cbf.stx 
<TD>&nbsp;&nbsp;add notices, remove gcc use of malloc, define alloca(x)
	             as NULL, and set large inital depth, adopts mods from
	             cbf.stx.y in release 0.2<BR>
<TR><TD VALIGN=TOP>cbf_alloc.c 
<TD>&nbsp;&nbsp;add notices<BR>
<TR><TD VALIGN=TOP>cbf_ascii.c 
<TD>&nbsp;&nbsp;change use of range of token values to explicit
	             symbolic tokens<BR>
<TR><TD VALIGN=TOP>cbf_binary.h  
<TD>&nbsp;&nbsp;merge cbf_binary_params into cbf_binary_parameters,
	            remove cbf_write_binary<BR>
<TR><TD VALIGN=TOP>cbf_binary.c 
<TD>&nbsp;&nbsp;add cbf_read_mime.h, and CBF_TOKEN_MIME_BIN token,
	             use cbf_set/get_fileposition, merge cbf_binary_params
	             into cbf_binary_parameters, restore some uses of const,
	             use cbf_decompress_parameters with extended argument list,
	             use cbf_mime_temp, move cbf_write_binary to its own
	             file.<BR>
<TR><TD VALIGN=TOP>cbf_canonical.h 
<TD>&nbsp;&nbsp;add argument binsize to cbf_compress_canonical,
	            add argument repeat to cbf_decompress_canonical<BR>
<TR><TD VALIGN=TOP>cbf_canonical.c 
<TD>&nbsp;&nbsp;add notices, remove binbitcount, handle binsize as
	             an argument<BR>
<TR><TD VALIGN=TOP>cbf_codes.h 
<TD>&nbsp;&nbsp;new header<BR>
<TR><TD VALIGN=TOP>cbf_codes.c  
<TD>&nbsp;&nbsp;revise notices, major cleanup.<BR>
<TR><TD VALIGN=TOP>cbf_compress.c 
<TD>&nbsp;&nbsp;add notices, add compressedsize argument, add repeat
	             to decompression calls<BR>
<TR><TD VALIGN=TOP>cbf_context.c 
<TD>&nbsp;&nbsp;add notices<BR>
<TR><TD VALIGN=TOP>cbf_compress.h  
<TD>&nbsp;&nbsp;add argument compressedsize to cbf_compress,
	             repeat to cbf_decompress<BR>
<TR><TD VALIGN=TOP>cbf_file.h  
<TD>&nbsp;&nbsp;map "text..." to "buffer..." in cbf_file, remove
 	             CBFbytedir, change cbf_set_textsize to cbf_set_buffersize,
	             add cbf_reset_buffer, add cbf_get_buffer, change
	             cbf_get/put_text to cbf_get/put_block, add
	             cbf_get/set_position
<TR><TD VALIGN=TOP>cbf_file.c  <BR>
<TD>&nbsp;&nbsp;add notices, change file->text to file->buffer,
	             file->text_size to file->buffer_size,
	             file->text_used to file->buffer_used,
	             file->read_headers, file->write_headers,
	             file->write_encoding,  remove file->fpos, file->fend,
	             add cbf_get/set_fileposition<BR>
<TR><TD VALIGN=TOP>cbf_lex.c  
<TD>&nbsp;&nbsp;read by buffers, move MIME processing later in the
	             flow<BR>
<TR><TD VALIGN=TOP>cbf_packed.h <BR>
<TD>&nbsp;&nbsp;add compressedsize argument to cbf-compress-packed,
	             repeat to cbf_decompress_packed, remove ..none,
	             ..byte_off, ..predict<BR>
<TR><TD VALIGN=TOP>cbf_packed.c
<TD>&nbsp;&nbsp;add notices, add bitcount argument to cbf_pack_chunk<BR>
<TR><TD VALIGN=TOP>cbf_predictor.h 
<TD>&nbsp;&nbsp;new header<BR>
<TR><TD VALIGN=TOP>cbf_predictor.c 
<TD>&nbsp;&nbsp;New routine<BR>
<TR><TD VALIGN=TOP>cbf_read_binary.h 
<TD>&nbsp;&nbsp;new header<BR>
<TR><TD VALIGN=TOP>cbf_read_binary.c 
<TD>&nbsp;&nbsp;New routine<BR>
<TR><TD VALIGN=TOP>cbf_read_mime.h 
<TD>&nbsp;&nbsp;new header<BR>
<TR><TD VALIGN=TOP>cbf_string.h  
<TD>&nbsp;&nbsp;new header<BR>
<TR><TD VALIGN=TOP>cbf_string.c 
<TD>&nbsp;&nbsp;New routine, replacing string.c<BR>
<TR><TD VALIGN=TOP>cbf_stx.c  
<TD>&nbsp;&nbsp;Rebuild of cbf.stx with bison A2.6<BR>
<TR><TD VALIGN=TOP>cbf_tree.h   
<TD>&nbsp;&nbsp;remove CBF_INDEX, cbf_init_index, cbf_add_index,
	              cleanup, add const<BR>
<TR><TD VALIGN=TOP>cbf_tree.c  
<TD>&nbsp;&nbsp;add notices, general cleanup, restore const, remove
	             cbf_init_index, cbf_add_index<BR>
<TR><TD VALIGN=TOP>cbf_uncompressed.h  
<TD>&nbsp;&nbsp;new header<BR>
<TR><TD VALIGN=TOP>cbf_uncompressed.c 
<TD>&nbsp;&nbsp;New routine<BR>
<TR><TD VALIGN=TOP>cbf_write.c
<TD>&nbsp;&nbsp;add notices, change tests for "?" and ".",
	             change range test on tokens to explicit list<BR>
<TR><TD VALIGN=TOP>cbf_write_binary.h 
<TD>&nbsp;&nbsp;new header<BR>

<TR><TD VALIGN=TOP>cbf_write_binary.c 
<TD>&nbsp;&nbsp;New routine<BR>
<TR><TD VALIGN=TOP>global.h     
<TD>&nbsp;&nbsp;new routine with part of md5.h<BR>
<TR><TD VALIGN=TOP>md5c.c       
<TD>&nbsp;&nbsp;use global.h<BR>
<TR><TD VALIGN=TOP>md5.h        
<TD>&nbsp;&nbsp;move portion of this header to global.h, from whence
	             it came<BR>
</TABLE>

<HR>
<H3><A NAME="0.2" WIDTH="18%">Release 0.2</A>, Herbert J. Bernstein, 27 August 1998</H3>
<P>
<TABLE>
<TR><TH ALIGN=LEFT>Source File<TH ALIGN=LEFT>Change
<TR><TD VALIGN=TOP>cbf.h 
<TD>&nbsp;&nbsp;Define CBF and CIF, add cbf_force_new_datablock,
	               cbf_force_new_category, remove some uses of const,
	               add, cbf_get_integerarrayparams, add
	               globals CBForCIF, CIFCRterm, CIFNLterm, CBFbinsize,
	               CBFmime, CBFdigest, CBFencoding, CBFelsize, CBFbytedir<BR>
<TR><TD VALIGN=TOP>cbf.c  
<TD>&nbsp;&nbsp;Define CBF and CIF, add cbf_force_new_datablock,
	               cbf_force_new_category, remove some uses of const,
	               add, cbf_get_integerarrayparams, add
	               globals CBForCIF, CIFCRterm, CIFNLterm, CBFbinsize,
	               CBFmime, CBFdigest, CBFencoding, 
                       CBFelsize, CBFbytedir<BR>
<TR><TD VALIGN=TOP>cbf.stx  
<TD>&nbsp;&nbsp;Add malloc.h when using gcc<BR>
<TR><TD VALIGN=TOP>cbf.stx.y  
<TD>&nbsp;&nbsp;Version of cbf.stx with changes to allow DDL1<BR>
<TR><TD VALIGN=TOP>cbf_ascii.c  
<TD>&nbsp;&nbsp;Use symbols for tokens<BR>
<TR><TD VALIGN=TOP>cbf_binary.h  
<TD>&nbsp;&nbsp;Add cbf_binary_params<BR>
<TR><TD VALIGN=TOP>cbf_binary.c  
<TD>&nbsp;&nbsp;Add digest logic, change file position tracking<BR>
<TR><TD VALIGN=TOP>cbf_canonical.c 
<TD>&nbsp;&nbsp;Make writing repeat consistent; track binbitcount
	               add cbf_binary_params, use cbf_decompress_params;
	               allow MIME header<BR>
<TR><TD VALIGN=TOP>cbf_codes.c  
<TD>&nbsp;&nbsp;New routine adapted from mpack<BR>
<TR><TD VALIGN=TOP>cbf_compress.h 
<TD>&nbsp;&nbsp;Add cbf_decompress_params<BR>
<TR><TD VALIGN=TOP>cbf_compress.c 
<TD>&nbsp;&nbsp;Add hooks for CBF_NONE, CBF_BYTE_OFFSET,
	               CBF_PREDICTOR, add cbf_decompress_params<BR>
<TR><TD VALIGN=TOP>cbf_context.h  
<TD>&nbsp;&nbsp;Remove const from cbf_copy_string<BR>
<TR><TD VALIGN=TOP>cbf_context.c  
<TD>&nbsp;&nbsp;Remove const from cbf_copy_string<BR>
<TR><TD VALIGN=TOP>cbf_decode.c  
<TD>&nbsp;&nbsp;New routine adapted from mpack<BR>
<TR><TD VALIGN=TOP>cbf_file.h   
<TD>&nbsp;&nbsp;Add files to record file position<BR>
<TR><TD VALIGN=TOP>cbf_file.c  
<TD>&nbsp;&nbsp;Track file position; allow writing CIFs and CBFs<BR>
<TR><TD VALIGN=TOP>cbf_lex.c   
<TD>&nbsp;&nbsp;Add mime processing; add DDL1 support; process "."<BR>
<TR><TD VALIGN=TOP>cbf_mime.c  
<TD>&nbsp;&nbsp;New routine<BR>
<TR><TD VALIGN=TOP>cbf_packed.h  
<TD>&nbsp;&nbsp;Add cbf_compress_none, cbf_decompress_none,
	               cbf_compress_byte_off, cbf_decompress_byte_off,
	               cbf_compress_predict, cbf_decompress_predict<BR>
<TR><TD VALIGN=TOP>cbf_packed.c  
<TD>&nbsp;&nbsp;Add cbf_compress_none, cbf_decompress_none,
	               dummy cbf_compress_byte_off, dummy 
	               cbf_decompress_byte_off, dummy cbf_compress_predict, 
	               dummy cbf_decompress_predict;  ensure consistent 
	               writing of repeat<BR>
<TR><TD VALIGN=TOP>cbf_part.h  
<TD>&nbsp;&nbsp;New header adapted from mpack<BR>
<TR><TD VALIGN=TOP>cbf_part.c  
<TD>&nbsp;&nbsp;New routine adapted from pack<BR>
<TR><TD VALIGN=TOP>cbf_stx.c  
<TD>&nbsp;&nbsp;rebuilt with correct bison parser from cbf.stx.y<BR>
<TR><TD VALIGN=TOP>cbf_tree.c   
<TD>&nbsp;&nbsp;added cbf_make_new_node, cbf_find_last_child,
	               cbf_name_new_node, cbf_add_new_child, 
	               cbf_make_new_child, cbf_init_index,
	               cbf_add_index; report CBF_ARGUMENT for 
	               cbf_make_child for type CBF_LINK;
 	               removed some uses of const<BR>
<TR><TD VALIGN=TOP>cbf_write.c  
<TD>&nbsp;&nbsp;Added symbols for parse tokens; recognize ".";
	               adjusted file header line to conform to documentation;
	               removed some uses of const<BR>
<TR><TD VALIGN=TOP>cif2cbf.c  
<TD>&nbsp;&nbsp;New program<BR>
<TR><TD VALIGN=TOP>common.h   
<TD>&nbsp;&nbsp;New header from mpack<BR>
<TR><TD VALIGN=TOP>img2cif.c  
<TD>&nbsp;&nbsp;New program<BR>
<TR><TD VALIGN=TOP>makecbf.c  
<TD>&nbsp;&nbsp;Add local_exit and change cbf_failnez to facilitate
	               debugging, add _array_intensities.binary_id,
                       _array_data.binary.id<BR>
<TR><TD VALIGN=TOP>md5.h     
<TD>&nbsp;&nbsp;New header from mpack<BR>
<TR><TD VALIGN=TOP>md5c.c    
<TD>&nbsp;&nbsp;New routine from mpack<BR>
<TR><TD VALIGN=TOP>string.c    
<TD>&nbsp;&nbsp;New routine from mpack<BR>
<TR><TD VALIGN=TOP>uudecode.c  
<TD>&nbsp;&nbsp;New routine from mpack<BR>

</TABLE>

<HR>
<H3>Release 0.1, Paul J. Ellis, 17 April 1998</H3>
<P>
This was the first CBFlib release.  It
supported binary CBF files using binary strings.
<HR>
<HR>
Updated 25 December 2007.  
<script language="javascript" type="text/javascript">
<!-- 
      var name = "yaya";
      var domain = "bernstein-plus-sons";
      var domext = "com";
      document.write ("<a href=\"mailto:" + name + "@" + domain + "." domext + "\">" + name + " <b>at</b> " + domain + " <b>dot</b> "+  domext+"</a>"); 
// -->
</script>
<noscript>
yaya <b>at</b> bernstein-plus-sons <b>dot</b> com
</noscript>
</font>
</BODY>
</HTML>
