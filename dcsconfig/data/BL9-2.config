##############################
# 9-2 config
##############################

### light control (board_index channel_index)
##back light is DigitalOutput
light.back=0 1
##side light is AnalogOutput
light.side=0 0

laser.goniometer.control=0 2
laser.goniometer.read=0 0
laser.sample.control=0 3
laser.sample.read=0 1
laser.table_vert_1.control=0 4
laser.table_vert_1.read=0 2
laser.table_vert_2.control=0 5
laser.table_vert_2.read=0 3
laser.table_horz_1.control=0 6
laser.table_horz_1.read=0 2
laser.table_horz_2.control=0 7
laser.table_horz_2.read=0 5
# dcs
dcs.rootDir=/usr/local/dcs

# dcss server
dcss.host=blctl92.slac.stanford.edu
dcss.dbMapFile=/usr/local/dcs/dcss/dbmapfile/BL9-2.dat

#serverPorts.txt file fields conversion table
#   1st -->dcss.scriptPort 
#   2nd -->dcss.hardwarePort
#   3rd -->dcss.guiPort
dcss.ssl=1
dcss.scriptPort=14244
dcss.hardwarePort=14242
dcss.guiPort=14243
dcss.authProtocol=2
dcss.certificate=/usr/local/dcs/dcsconfig/data/BL9-2.crt

bluice.deviceDefinitionFilename=
bluice.mirrorView=DownwardMirrorView
bluice.monoView=DoubleCrystalMonoViewDoubleSet9_2
bluice.beamlineView=detectorPosition goniometer table frontEndApertures mirrorView toroid hutchOverview monoView
bluice.toroidView=ToroidView92
bluice.defaultHost=bl92c.slac.stanford.edu
bluice.videoTabList=COMBO_INLINE_ONLY Hutch Robot Panel Diffraction
bluice.zoomLowInline=0.0

dcss.display=hutch bl92hutch.slac.stanford.edu :0.0 #In 9-2 hutch
dcss.display=hutch bl92hutch.slac.stanford.edu :0 #In 9-2 hutch
dcss.display=hutch bl92hutch.slac.stanford.edu :1 #In 9-2 hutch
dcss.display=hutch dontcare smbx03:0.0  #REMOVE AFTER HUTCH COMPUTER CHANGED
dcss.display=hutch dontcare smbx03.slac.stanford.edu:0.0  #REMOVE AFTER HUTCH COMPUTER CHANGED
dcss.display=hutch dontcare smbx03:0  #REMOVE AFTER HUTCH COMPUTER CHANGED
dcss.display=hutch dontcare smbx03.slac.stanford.edu:0  #REMOVE AFTER HUTCH COMPUTER CHANGED
dcss.display=local dontcare bl92a.slac.stanford.edu:0.0 #Beamline console
dcss.display=local dontcare bl92b.slac.stanford.edu:0.0 #Beamline console
dcss.display=local dontcare bl92b.slac.stanford.edu:1.0 #Beamline console
dcss.display=local bl92a.slac.stanford.edu :0.0 #Beamline console
dcss.display=local bl92b.slac.stanford.edu :0.0 #Beamline console
dcss.display=local bl92b.slac.stanford.edu :1.0 #Beamline console
dcss.display=local bl92a.slac.stanford.edu :0 #Beamline console
dcss.display=local bl92b.slac.stanford.edu :0 #Beamline console
dcss.display=local bl92b.slac.stanford.edu :1 #Beamline console
dcss.display=local x bl92c.slac.stanford.edu:0.0 #Beamline console
dcss.display=local bl92c.slac.stanford.edu :0.0 #Beamline console
dcss.display=local bl92c.slac.stanford.edu :0 #Beamline console
dcss.display=local x bl92c.slac.stanford.edu:0 #Beamline console

# how often to validate session ids (in msec)
dcss.validationRate=3000
# dcss logging: 
# To turn off stdout logging, set logStdout to false
# To turn off udp log, set logUdpHost or logUdpPort to an empty string.
# To turn off log file, set logFilePattern or logFileSize or logFileMax to an empty string
# logLevel can be OFF, SEVERE, WARNING, INFO, CONFIG, FINE, FINER, FINEST OR ALL.
dcss.logStdout=true
dcss.logUdpHost=
dcss.logUdpPort=
dcss.logFilePattern=./bl92_dcss_log_%g_%u.log
#dcss.logFilePattern=
dcss.logFileSize=31457280
dcss.logFileMax=40
dcss.logLevel=ALL
dcss.logLibs=auth_client|http_cpp

# Dumping database.dat to text file. Set dbDumpFlag=false to turn it off.
dcss.dbDumpFlag=true
dcss.dbDumpFile=/home/webserverroot/servlets/webice/data/dcs/BL9-2.dump
dcss.dbDumpRate=1000


# imperson dhs
impdhs.name=imperson
impdhs.tmpDir=/tmp
impdhs.choochBinDir=/usr/local/dcs/autochooch/install/bin
impdhs.choochDatDir=/usr/local/dcs/autochooch/install/data
impdhs.cameraHost=smb.slac.stanford.edu
impdhs.cameraPort=80
impdhs.impHost=localhost
impdhs.impPort=61001

# Cryojet DHS
cryojetDhs.serialPort=/dev/ttyS0

# for DCSS sampleVideo snapshot
video.videoSystemUrl=http://smbws2.slac.stanford.edu:8080/VideoSystem
video.snapshotUrl=http://smbws2.slac.stanford.edu:8080/VideoSystem/video.html?stream=BL9-2_SAMPLE&size=large&resolution=high

video1.imageUrl=http://smbws2.slac.stanford.edu:8080/VideoSystem/video.html?stream=BL9-2_SAMPLE
video2.imageUrl=http://smbws2.slac.stanford.edu:8080/VideoSystem/video.html?stream=BL9-2_HUTCH
video3.imageUrl=http://smbws2.slac.stanford.edu:8080/VideoSystem/video.html?stream=BL9-2_ROBOT
video4.imageUrl=http://smbws2.slac.stanford.edu:8080/VideoSystem/video.html?stream=BL9-2_PANEL
video5.imageUrl=http://smbws2.slac.stanford.edu:8080/VideoSystem/video.html?stream=BL9-2_SAMPLE

#more arguments
video1.args=
video2.args=&camera=1
video3.args=&camera=3
video4.args=&camera=1

#presets, needs the channel arguments
video1.presetRequestUrl=
video2.presetRequestUrl=http://smbws2.slac.stanford.edu:8080/VideoSystem/control.html?method=getPresetList&stream=BL9-2_HUTCH
video3.presetRequestUrl=http://smbws2.slac.stanford.edu:8080/VideoSystem/control.html?method=getPresetList&stream=BL9-2_ROBOT
video4.presetRequestUrl=http://smbws2.slac.stanford.edu:8080/VideoSystem/control.html?method=getPresetList&stream=BL9-2_PANEL

#url for requesting a move, needs the channel arguments
video1.moveRequestUrl=
video2.moveRequestUrl=http://smbws2.slac.stanford.edu:8080/VideoSystem/control.html?method=gotoPreset&stream=BL9-2_HUTCH&presetName=
video3.moveRequestUrl=http://smbws2.slac.stanford.edu:8080/VideoSystem/control.html?method=gotoPreset&stream=BL9-2_ROBOT&presetName=
video4.moveRequestUrl=http://smbws2.slac.stanford.edu:8080/VideoSystem/control.html?method=gotoPreset&stream=BL9-2_PANEL&presetName=

video1.textUrl=
video2.textUrl=http://smbws2.slac.stanford.edu:8080/VideoSystem/control.html?method=changeText&stream=BL9-2_HUTCH&text=
video3.textUrl=http://smbws2.slac.stanford.edu:8080/VideoSystem/control.html?method=changeText&stream=BL9-2_ROBOT&text=
video4.textUrl=http://smbws2.slac.stanford.edu:8080/VideoSystem/control.html?method=changeText&stream=BL9-2_PANEL&text=


#epics gateway
epicsgw.name=epics_gateway
epicsgw.beamlineOpenState.stringTypeRead=1

dhs.logStdout=TRUE
dhs.logFileSize=31457280
dhs.logFileMax=10
dhs.logLevel=INFO

#dhs.instance=instanceName hardwareType logFilePattern memoryMapName autoflush watchdog devicepollTime
dhs.instance=camera axis2400 /usr/local/dcs/BL9-2/camera_%g_%u.log /usr/local/dcs/BL9-2/camera.dat 500 5000 5000
#dhs.instance=detector mar345 /usr/local/dcs/BL9-2/detector_%g_%u.log /usr/local/dcs/BL9-2/detector.dat 500 1000 200
dhs.instance=galil1 dmc2180  /usr/local/dcs/BL9-2/galil1_%g_%u.log /usr/local/dcs/BL9-2/galil1.dat 500 1000 200
dhs.instance=galil2 dmc2180  /usr/local/dcs/BL9-2/galil2_%g_%u.log /usr/local/dcs/BL9-2/galil2.dat 500 1000 200
dhs.instance=galil3 dmc2180  /usr/local/dcs/BL9-2/galil3_%g_%u.log /usr/local/dcs/BL9-2/galil3.dat 500 1000 200
dhs.instance=galil4 dmc2180  /usr/local/dcs/BL9-2/galil4_%g_%u.log /usr/local/dcs/BL9-2/galil4.dat 500 1000 200
dhs.instance=galil5 dmc2180  /usr/local/dcs/BL9-2/galil5_%g_%u.log /usr/local/dcs/BL9-2/galil5.dat 500 1000 200
dhs.instance=galil6 dmc2180  /usr/local/dcs/BL9-2/galil6_%g_%u.log /usr/local/dcs/BL9-2/galil6.dat 500 1000 200
dhs.instance=galil7 dmc2180  /usr/local/dcs/BL9-2/galil7_%g_%u.log /usr/local/dcs/BL9-2/galil7.dat 500 1000 200
dhs.instance=galil8 dmc2180  /usr/local/dcs/BL9-2/galil8_%g_%u.log /usr/local/dcs/BL9-2/galil8.dat 500 1000 200
dhs.instance=galil9 dmc2180  /usr/local/dcs/BL9-2/galil9_%g_%u.log /usr/local/dcs/BL9-2/galil9.dat 500 1000 200

mar345.commandDirectory=/logs/root

axis2400.hostname=bl92aaxis
axis2400.port=8000
axis2400.passwordFile=/usr/local/dcs/BL9-2/axis2400Password.txt
axis2400.url_path=/axis-cgi/jpg/image.cgi?camera=2&clock=0&date=0&text=0 HTTP/1.0\r\n
###### for dcss to take snapshot without cache from video server
video.snapshotDirectUrl=http://bl92aaxis:8000/axis-cgi/jpg/image.cgi?camera=2&resolution=704x480&clock=0&date=0&text=0

dhs.instance=detector marccd /usr/local/dcs/BL9-2/detector_%g_%u.log /usr/local/dcs/BL9-2/detector.dat 500 1000 200
marccd.beamCenter=162.5 162.5
marccd.serialNumber=1
marccd.hostname=smblxmar
marccd.commandPort=3000
marccd.darkRefreshTime=7200
marccd.darkExposureTolerance=.10
marccd.writeRawImages=F
marccd.impHost=smbfs.slac.stanford.edu
marccd.impPort=61001
marccd.useImperson=T
marccd.collectDark=F
marccd.recordI0=F
marccd.detectorType=MAR325

#dmc2180.control=dhsInstanceName dmc2180Hostname scriptname connectBackHostname
dmc2180.control=galil1 bl92ga1 /usr/local/dcs/dhs/galil_scripts/huber.txt blctl92p.slac.stanford.edu
dmc2180.control=galil2 bl92ga2 /usr/local/dcs/dhs/galil_scripts/script4_8secWatchdog.txt blctl92p.slac.stanford.edu
dmc2180.control=galil3 bl92ga3 /usr/local/dcs/dhs/galil_scripts/script4_8secWatchdog.txt blctl92p.slac.stanford.edu
dmc2180.control=galil4 bl92ga4 /usr/local/dcs/dhs/galil_scripts/bl92ga4.txt blctl92p.slac.stanford.edu
dmc2180.control=galil5 bl92ga5 /usr/local/dcs/dhs/galil_scripts/script4_8secWatchdog.txt blctl92p.slac.stanford.edu
dmc2180.control=galil6 bl92ga6 /usr/local/dcs/dhs/galil_scripts/script4_8secWatchdog.txt blctl92p.slac.stanford.edu
dmc2180.control=galil7 bl92ga7 /usr/local/dcs/dhs/galil_scripts/script4_8secWatchdog.txt blctl92p.slac.stanford.edu
dmc2180.control=galil8 bl92ga8 /usr/local/dcs/dhs/galil_scripts/script4_8secWatchdog.txt blctl92p.slac.stanford.edu
dmc2180.control=galil9 bl92ga9 /usr/local/dcs/dhs/galil_scripts/script4_8secWatchdog.txt blctl92p.slac.stanford.edu

galil4.expectedStepperMotorType=-2.5
#galil1.limitSwitchPolarity=-1
galil1.servo=sample_x a 3291 221 32 off
galil1.servo=sample_y b 3291 221 32 off
galil1.servo=sample_z c 3291 221 32 off
galil1.servo=camera_zoom d 3291 221 32 off
galil1.stepper=gonio_kappa e
galil1.stepper=gonio_phi f
galil1.stepper=gonio_omega g
galil1.stepper=gonio_z h
galil1.shutter=shutter 1 closed
galil1.hutchDoorBitChannel=3
galil1.motorStopChannel=4
galil1.encoder=gonio_z_encoder 4 1.00 RELATIVE
galil1.shutter=Al_0.5 8 closed



galil2.servo=guard_shield_vert a 3291 221 32 off
galil2.servo=guard_shield_horiz b 3291 221 32 off
#galil2.servo=spare_dc c 3291 221 32
#galil2.servo=mono_pitch_coarse d 3291 221 32
galil2.stepper=detector_horz e
galil2.stepper=detector_vert f
galil2.stepper=detector_z g
#galil2.stepper=energy h

galil2.shutter=Al_1 1 closed
galil2.shutter=Al_2 2 closed
galil2.shutter=Al_4 3 closed
galil2.shutter=Al_8 4 closed
galil2.shutter=Al_16 5 closed
galil2.shutter=Al_32 6 closed
galil2.shutter=Se 7 closed
galil2.shutter=Al_64 8 closed

galil2.encoder=detector_horz_encoder 4 1000.0000 RELATIVE
galil2.encoder=detector_vert_encoder 5 1000.0000 RELATIVE
#galil2.encoder=detector_z_encoder 6 1000.0000

#galil3.stepper=slit_1_upper a
#galil3.stepper= slit_1_lower b
#galil3.stepper=slit_1_spear c
#galil3.stepper=slit_1_ssrl d
#galil3.stepper=slit_2_upper e
#galil3.stepper=slit_2_lower f
#galil3.stepper=slit_2_spear g
#galil3.stepper=slit_2_ssrl h


galil3.stepper=slit_1_vert a
galil3.stepper=slit_1_vert_gap b
galil3.stepper=slit_1_horiz c
galil3.stepper=slit_1_horiz_gap d
galil3.stepper=slit_2_vert e
galil3.stepper=slit_2_vert_gap f
galil3.stepper=slit_2_horiz g
galil3.stepper=slit_2_horiz_gap h


galil3.encoder=mono_theta_encoder 3 160000.0000 RELATIVE

galil4.stepper=mirror_pitch a
galil4.stepper=mirror_slit_upper e
galil4.stepper=mirror_slit_lower f
galil4.stepper=mirror_bend g
galil4.stepper=mirror_vert  h

galil6.encoder=detector_z_encoder 0 -5000.0000 ABSOLUTE

galil5.stepper=toroid_vert a
galil5.stepper=toroid_pitch b
galil5.stepper=toroid_bend c
galil5.stepper=toroid_yaw d
galil5.stepper=table_vert_1 e
galil5.stepper=table_vert_2 f
galil5.stepper=mono_vert g
galil5.stepper=beam_pipe_vert h

galil6.stepper=mono_slit_lower e
galil6.stepper=mono_slit_upper f
galil6.stepper=mono_slit_ssrl g
galil6.stepper=mono_slit_spear h

galil7.stepper=mirror_feedback_detector_vert a
galil7.stepper=mirror_feedback_detector_horz b
galil7.stepper=fluorescence_z e

galil7.encoder=mirror_mfd_horz_encoder   0 5000.0 ABSOLUTE
galil7.encoder=mirror_mfd_vert_encoder   1 5000.0 ABSOLUTE


galil8.stepper=table_horz_1 a
galil8.stepper=table_horz_2 b
galil8.stepper=beamstop_ver e
galil8.stepper=beamstop_hor f
galil8.stepper=beamstop_z g

galil9.stepper=mono_theta a
galil9.stepper=mono_trans b
galil9.stepper=diagnostic_vert c
galil9.stepper=mono_a_pitch e
galil9.stepper=mono_a_roll f
galil9.stepper=mono_b_pitch g
galil9.stepper=mono_b_roll h


#if it is not 0, port probing force results are in millimeter of port error
#if it is 0, the port probing force results are lbs-in, raw
robot.probeScaled=1

################laser motor encoder
laser_vert1.children=table_vert_1
laser_vert1.index=2
laser_vert1.moveDeadBand=-1
##mean cannot move

laser_vert2.children=table_vert_2
laser_vert2.index=3
laser_vert2.moveDeadBand=-1

laser_horz1.children=table_horz_1
laser_horz1.index=4
laser_horz1.moveDeadBand=-1

laser_horz2.children=table_horz_2
laser_horz2.index=5
laser_horz2.moveDeadBand=-1

table_vert_1_encoder.index=2
table_vert_2_encoder.index=3
table_horz_1_encoder.index=4
table_horz_2_encoder.index=5

### -1 means no check
table_vert_1.tolerance=1
table_vert_2.tolerance=1
table_horz_1.tolerance=1
table_horz_2.tolerance=-1

bluice.filterLabelMap=Al_64 64 Al_32 32 Al_16 16 Al_8 8 Al_4 4 Al_2 2 Al_1 1 Al_0.5 .5 Se Se
attenuation.filterThickness=Al_64 1600 Al_32 800 Al_16 400 Al_8 200 Al_4 100 Al_2 50 Al_1 25 Al_0.5 12

###############################################
# daqBoard 1000
###############################################
#daqBoard.board0.adc_mode=single_ended
daqBoard.board0.adc_mode=differential
#daqBoard.board0.dioPortA=input
#daqBoard.board0.dioPortB=output
#daqBoard.board0.dioPortCHigh=output
#daqBoard.board0.dioPortCLow=input
#daqBoard.board1.adc_mode=single_ended
#daqBoard.board1.dioPortA=input
#daqBoard.board1.dioPortB=output
#daqBoard.board1.dioPortCHigh=output
#daqBoard.board1.dioPortCLow=input


#beamGood.signal=i0
#dcss.preCheckMotorList=energy map_beam_size attenuation

#run.beam_width=beam_size_x
#run.beam_height=beam_size_y
run.beam_width=beam_size_sample_x
run.beam_height=beam_size_sample_y
#run.energy=energy
run.energy=optimized_energy
#run.distance=detector_z
run.distance=detector_z_corr
#run.beam_stop=beamstop_z
#run.phi=gonio_phi
#run.omega=gonio_omega
#run.vert=detector_vert
#run.horz=detector_horz

###############################
# flux trigger
###############################
flux.trigger=i2
flux.trigger=analogInStatus1 2


### digital output (board, channel)
mirror.hold.control=1 2

imgsrv.host=mcfs01.slac.stanford.edu
imgsrv.guiPort=14005
imgsrv.webPort=14006
imgsrv.httpPort=14007

fluorescentScan.deadTimeRatio=0.06

bluice.tabOrder=Hutch Sample Collect Screening Scan Rastering Sorting Users UserLog Staff
