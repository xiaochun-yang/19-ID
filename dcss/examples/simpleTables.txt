-- MySQL dump 8.22
--
-- Host: localhost    Database: beamline_configuration
---------------------------------------------------------
-- Server version	3.23.53-log

--
-- Table structure for table 'ADAC5500'
--

CREATE TABLE ADAC5500 (
  id int(11) NOT NULL default '0',
  ControllerID int(11) NOT NULL default '0',
  PRIMARY KEY  (id),
  UNIQUE KEY id (id)
) TYPE=MyISAM;


--
-- Table structure for table 'ASYNC2100'
--

CREATE TABLE ASYNC2100 (
  id int(11) NOT NULL auto_increment,
  hostID int(11) default NULL,
  controllerID int(11) default NULL,
  PRIMARY KEY  (id)
) TYPE=MyISAM;


CREATE TABLE Beamlines (
  id int(11) NOT NULL auto_increment,
  Name varchar(100) default NULL,
  PRIMARY KEY  (id)
) TYPE=MyISAM;

--
-- Dumping data for table 'Beamlines'
--


INSERT INTO Beamlines VALUES (1,'bl11-1');

--
-- Table structure for table 'CCD'
--

CREATE TABLE CCD (
  id int(11) NOT NULL auto_increment,
  serialNumber varchar(30) NOT NULL default '0',
  HostName varchar(30) default NULL,
  CommandPort int(11) default NULL,
  DataPort int(11) default NULL,
  Chips int(11) default NULL,
  DarkImageDirectory varchar(100) default NULL,
  DarkRefreshTime int(11) default NULL,
  CalibrationDirectory varchar(100) default NULL,
  ControllerID int(11) default NULL,
  BeamCenterX double(16,4) default NULL,
  BeamCenterY double(16,4) default NULL,
  NonUniformitySlowFile varchar(30) default NULL,
  NonUniformityFastFile varchar(30) NOT NULL default '',
  NonUniformitySlowBinFile varchar(30) NOT NULL default '',
  NonUniformityFastBinFile varchar(30) NOT NULL default '',
  DistortionSlowFile varchar(30) default NULL,
  DistortionFastFile varchar(30) NOT NULL default '',
  DistortionSlowBinFile varchar(30) NOT NULL default '',
  DistortionFastBinFile varchar(30) NOT NULL default '',
  PostNonUniformitySlowFile varchar(30) default NULL,
  PostNonUniformityFastFile varchar(30) NOT NULL default '',
  PostNonUniformitySlowBinFile varchar(30) NOT NULL default '',
  PostNonUniformityFastBinFile varchar(30) NOT NULL default '',
  darkExposureTolerance float(10,2) NOT NULL default '0.10',
  writeRawImages char(1) default NULL,
  j5_trigger char(1) default NULL,
  PRIMARY KEY  (id)
) TYPE=MyISAM;

--
-- Dumping data for table 'CCD'
--


INSERT INTO CCD VALUES (1,'0','blcpu1.slac.stanford.edu',8041,8042,1,'./darkimages/',7200,'/usr/local/dcs/dhs/',7,94.0000,94.0000,'NONUNF','NONUNF','NONUNF','NONUNF','DISTOR.calfil','DISTOR.calfil','DISTOR.calfil','DISTOR.calfil','POSTNUF','POSTNUF','POSTNUF','POSTNUF',0.10,'N','N');

--
-- Table structure for table 'Camera'
--

CREATE TABLE Camera (
  ControllerID int(11) NOT NULL default '0',
  name varchar(30) NOT NULL default '',
  hostname varchar(30) default NULL,
  port int(11) default NULL,
  username varchar(30) default NULL,
  password varchar(30) default NULL,
  url_path varchar(255) default NULL,
  PRIMARY KEY  (ControllerID)
) TYPE=MyISAM;

--
-- Dumping data for table 'Camera'
--


--
-- Table structure for table 'Controllers'
--

CREATE TABLE Controllers (
  id int(11) NOT NULL auto_increment,
  DHS_ID int(11) default NULL,
  PRIMARY KEY  (id)
) TYPE=MyISAM;

--
-- Dumping data for table 'Controllers'
--


INSERT INTO Controllers VALUES (1,1);

--
-- Table structure for table 'DCSS'
--

CREATE TABLE DCSS (
  id int(11) NOT NULL auto_increment,
  HostName varchar(100) default NULL,
  ListeningPort int(11) default NULL,
  MemoryMapFile varchar(50) default NULL,
  BeamlineID int(11) default NULL,
  beamline varchar(30) NOT NULL default '',
  PRIMARY KEY  (id)
) TYPE=MyISAM;

--
-- Dumping data for table 'DCSS'
--


INSERT INTO DCSS VALUES (1,'blctl111.slac.stanford.edu',14242,'database.dat',1,'bl11-1');

--
-- Table structure for table 'DHS'
--

CREATE TABLE DHS (
  id int(11) NOT NULL auto_increment,
  HostName varchar(100) default NULL,
  privateNode varchar(100) default NULL,
  BeamlineID int(11) default NULL,
  LocalDatabaseFileName varchar(100) default NULL,
  AutoFlushPeriod mediumint(9) default NULL,
  DevicePollPeriod mediumint(9) default NULL,
  WatchdogKickPeriod mediumint(9) default NULL,
  InstanceName varchar(30) default NULL,
  PRIMARY KEY  (id)
) TYPE=MyISAM;

--
-- Dumping data for table 'DHS'
--


INSERT INTO DHS VALUES (24,'blctl15.slac.stanford.edu','blctl15p.slac.stanford.edu',11,'blctl15galil1.dat',500,200,500,'galil1');
INSERT INTO DHS VALUES (33,'smbfs.slac.stanford.edu','',4,'quantum315_92.dat',5000,5000,5000,'detector92');

--
-- Table structure for table 'DSA2000'
--

CREATE TABLE DSA2000 (
  id int(11) NOT NULL default '0',
  ControllerID int(11) NOT NULL default '0',
  PRIMARY KEY  (id),
  UNIQUE KEY id (id)
) TYPE=MyISAM;



--
-- Table structure for table 'Encoders'
--

CREATE TABLE Encoders (
  id int(11) NOT NULL auto_increment,
  name2 varchar(30) default NULL,
  scale_factor double(16,4) default NULL,
  controllerID int(11) default NULL,
  channel2 int(11) NOT NULL default '0',
  PRIMARY KEY  (id)
) TYPE=MyISAM;


--
-- Table structure for table 'MAR345'
--

CREATE TABLE MAR345 (
  id int(11) NOT NULL auto_increment,
  CommandDirectory varchar(100) default NULL,
  detector_offset_x float(10,2) default NULL,
  detector_offset_y float(10,2) default NULL,
  controllerID int(11) default NULL,
  hasBase char(1) NOT NULL default 'F',
  PRIMARY KEY  (id)
) TYPE=MyISAM;

--
-- Dumping data for table 'MAR345'
--


INSERT INTO MAR345 VALUES (1,'/logs/root',0.00,0.00,99920,'N');

--
-- Table structure for table 'Motors'
--

CREATE TABLE Motors (
  id int(11) NOT NULL auto_increment,
  name varchar(30) default NULL,
  controller_axis char(1) default NULL,
  type varchar(30) default NULL,
  units varchar(30) default NULL,
  position double(16,4) default NULL,
  scale_factor double(16,4) default NULL,
  speed double(16,4) default NULL,
  acceleration double(16,4) default NULL,
  backlash double(16,4) default NULL,
  lower_limit double(16,4) default NULL,
  upper_limit double(16,4) default NULL,
  lower_limit_enabled char(1) default NULL,
  upper_limit_enabled char(1) default NULL,
  backlash_enabled char(1) default NULL,
  reverse_enabled char(1) default NULL,
  lock_enabled char(1) default NULL,
  PID_derivative double(16,4) default NULL,
  PID_proportional double(16,4) default NULL,
  PID_integrator double(16,4) default NULL,
  PID_independent_time double(16,4) default NULL,
  controllerID int(11) default NULL,
  PRIMARY KEY  (id)
) TYPE=MyISAM;

--
-- Dumping data for table 'Motors'
--


INSERT INTO Motors VALUES (1,'sample_x','x','dc','mm',0.0000,17500.0000,1756.0000,100.0000,0.0000,1000.0000,1000.0000,'Y','Y','N','N','N',3291.0000,221.0000,32.0000,NULL,4);
INSERT INTO Motors VALUES (2,'sample_z','z','dc','mm',0.0000,17500.0000,1756.0000,100.0000,0.0000,1000.0000,1000.0000,'Y','Y','N','N','N',3291.0000,221.0000,32.0000,NULL,4);
INSERT INTO Motors VALUES (3,'sample_y','y','dc','mm',0.0000,17500.0000,1756.0000,100.0000,0.0000,1000.0000,1000.0000,'Y','Y','N','N','N',3291.0000,221.0000,32.0000,NULL,4);

--
-- Table structure for table 'NetworkHost'
--

CREATE TABLE NetworkHost (
  id int(11) NOT NULL auto_increment,
  hostName varchar(30) default NULL,
  IP varchar(30) default NULL,
  PRIMARY KEY  (id)
) TYPE=MyISAM;

--
-- Dumping data for table 'NetworkHost'
--


--
-- Table structure for table 'Quantum315'
--

CREATE TABLE Quantum315 (
  id int(11) NOT NULL auto_increment,
  ControllerID int(11) default NULL,
  serialNumber varchar(30) default NULL,
  commandHost varchar(30) default NULL,
  commandPort int(11) default NULL,
  dataHost0 varchar(30) default NULL,
  dataHost1 varchar(30) default NULL,
  dataHost2 varchar(30) default NULL,
  dataHost3 varchar(30) default NULL,
  dataHost4 varchar(30) default NULL,
  dataHost5 varchar(30) default NULL,
  dataHost6 varchar(30) default NULL,
  dataHost7 varchar(30) default NULL,
  dataHost8 varchar(30) default NULL,
  dataPort0 int(11) default NULL,
  dataPort1 int(11) default NULL,
  dataPort2 int(11) default NULL,
  dataPort3 int(11) default NULL,
  dataPort4 int(11) default NULL,
  dataPort5 int(11) default NULL,
  dataPort6 int(11) default NULL,
  dataPort7 int(11) default NULL,
  dataPort8 int(11) default NULL,
  BeamCenterX double(16,4) default NULL,
  BeamCenterY double(16,4) default NULL,
  darkRefreshTime int(11) default NULL,
  darkExposureTolerance float(10,2) default NULL,
  writeRawImages char(1) default NULL,
  PRIMARY KEY  (id)
) TYPE=MyISAM;

--
-- Dumping data for table 'Quantum315'
--


INSERT INTO Quantum315 VALUES (1,17,'902','blctl111',8041,'q315-902-01','q315-902-02','q315-902-03','q315-902-04','q315-902-05','q315-902-06','q315-902-07','q315-902-08','q315-902-09',9042,9042,9042,9042,9042,9042,9042,9042,9042,157.5000,157.5000,7200,0.10,'N');

--
-- Table structure for table 'SerialDevice'
--

CREATE TABLE SerialDevice (
  id int(11) NOT NULL auto_increment,
  name varchar(30) default NULL,
  port int(11) default NULL,
  baudRate int(11) default NULL,
  parity char(1) default NULL,
  Bits int(11) default NULL,
  stopBits int(11) default NULL,
  handShake varchar(10) default NULL,
  controllerID int(11) default NULL,
  PRIMARY KEY  (id)
) TYPE=MyISAM;

--
-- Dumping data for table 'SerialDevice'
--


--
-- Table structure for table 'Shutters'
--

CREATE TABLE Shutters (
  id int(11) NOT NULL auto_increment,
  name varchar(30) default NULL,
  channel int(11) default NULL,
  low_voltage_is varchar(10) default NULL,
  shutdown_state varchar(10) default NULL,
  ControllerID int(11) default NULL,
  PRIMARY KEY  (id)
) TYPE=MyISAM;

--
-- Dumping data for table 'Shutters'
--


INSERT INTO Shutters VALUES (1,'shutter',1,'closed','closed',4);

--
-- Table structure for table 'Users'
--

CREATE TABLE Users (
  id int(11) NOT NULL auto_increment,
  unix_name varchar(30) default NULL,
  priv mediumint(9) default NULL,
  real_name varchar(30) default NULL,
  office_phone varchar(30) default NULL,
  job_title varchar(30) default NULL,
  beamline varchar(30) NOT NULL default '',
  staff char(1) NOT NULL default 'Y',
  remoteAccess char(1) NOT NULL default 'N',
  enabled char(1) NOT NULL default 'Y',
  PRIMARY KEY  (id)
) TYPE=MyISAM;

--
-- Dumping data for table 'Users'
--


INSERT INTO Users VALUES (1,'scottm',4,'Scott McPhillips','9-714-9411','S/W Developer','ALL','y','Y','Y');

--
-- Table structure for table 'dmc21x0'
--

CREATE TABLE dmc21x0 (
  id int(11) NOT NULL auto_increment,
  hostname varchar(30) default NULL,
  scriptID int(11) default NULL,
  ControllerID int(11) default NULL,
  PRIMARY KEY  (id)
) TYPE=MyISAM;

--
-- Dumping data for table 'dmc21x0'
--


INSERT INTO dmc21x0 VALUES (1,'BL11GA2',5,4);

--
-- Table structure for table 'galil_scripts'
--

CREATE TABLE galil_scripts (
  id int(11) NOT NULL auto_increment,
  script blob,
  comment varchar(255) default NULL,
  modification_date timestamp(12) NOT NULL,
  PRIMARY KEY  (id)
) TYPE=MyISAM;

--
-- Dumping data for table 'galil_scripts'
--


INSERT INTO galil_scripts VALUES (1,'//\n//Galil Script for DMC2180\n//\n// WATCHDOG ROUTINE \n#W_Dog\nKick=0\nLastKic=0\n#WDog_ok\n//MG{EF} \"WATCHDOG ok\"\nAT 0\nAT 5000\nJP #WDogBad,Kick=LastKic\nLastKic=Kick\nTimeOut=0\nJP #WDog_ok\n#WDogBad\nST ABCDEFGH\nST S\nTimeOut=1\n//DON\'T Send an unsolicited message to DHS\n//MG{EF} \"dtoh_watchdog_timeout\"\nJP #WDog_ok\n//\n//\n//This routine closes all sockets after waiting for 1 second.\n//The 1 second wait is useful to allow the client to disconnect cleanly.	\n//	 \n#ShutAll\nAT 0\nAT 1000\nIHA=>-2\nIHB=>-2\nIHC=>-2\nIHD=>-2\nIHE=>-2\nIHF=>-2\nEN\n//end of the routine\n//\n//\n//\n//OSCILLATION CODE\n#ShutREV\nJP #NoShutr,Shutter=0\n#Loop2A\nJP #LoopEnd,StopOsc>0\nJS #RP_axis//Get position			  \nJP #Loop2A,Pos>OscStart-1\nJS #OpenSh\n#Loop3A\nJP #LoopEnd,StopOsc>0\nJS #RP_axis//Get position\nJP #Loop3A,Pos>OscEnd\nJP #Finish\n//			\n//Shutter handling for non-reversed motor\n#ShutFWD\nJP #NoShutr,Shutter=0\n#Loop2B\nJP #LoopEnd,StopOsc>0\nJS #RP_axis// Get position\nJP #Loop2B,Pos<OscStart+1\nJS #OpenSh\n#Loop3B\nJP #LoopEnd,StopOsc>0\nJS #RP_axis//Get position\nJP #Loop3B,Pos<OscEnd\n//			\n#Finish\nJS #CloseSh\nEN\n//			\n#LoopEnd\nAT 0\nAT 1000\nJP #Finish\n//			\n#OpenSh\nSB FrontFil\nMG{EF} \"dtoh_shutter_open\",FrontFil\nEN\n//			\n#CloseSh\nCB FrontFil\nMG{EF} \"dtoh_shutter_closed\",FrontFil\n#NoShutr\nEN\n//\n#RP_axis\nJP #POS_X,Axis=0\nJP #POS_Y,Axis=1\nJP #POS_Z,Axis=2\nJP #POS_W,Axis=3\nJP #POS_E,Axis=4\nJP #POS_F,Axis=5\nJP #POS_G,Axis=6\nJP #POS_H,Axis=7\nMG{EF} \"dtoh_axis_not_in_range\" // Tell calling program that Axis not in range [0..7]*/\nEN\n//\n#POS_X\nPos=_RPX\nEN\n#POS_Y\nPos=_RPY\nEN\n#POS_Z\nPos=_RPZ\nEN\n#POS_W\nPos=_RPW\nEN\n#POS_E\nPos=_RPE\nEN\n#POS_F\nPos=_RPF\nEN\n#POS_G\nPos=_RPG\nEN\n#POS_H\nPos=_RPH\nEN\n#LVDT\nA0=0\nA1=0\nA2=0\nA3=0\nA5=0\nA6=0\nA7=0\nCNT=5\n#anaLoop\nAT 0\nAT 500\nA0=A0+@AN[0]\nA1=A1+@AN[1]\nA2=A2+@AN[2]\nA3=A3+@AN[3]\nA4=A4+@AN[4]\nA5=A5+@AN[5]\nA6=A6+@AN[6]\nA7=A7+@AN[7]\nCNT=CNT-1\nJP #anaLoop,CNT>0\nA0=A0/5\nA1=A1/5\nA2=A2/5\nA3=A3/5\nA4=A4/5\nA5=A5/5\nA6=A6/5\nA7=A7/5\nMG{EF} \"dtoh_analog_values\",A0,A1,A2,A3,A4,A5,A6,A7\nJP #LVDT','first script','000000000000');
INSERT INTO galil_scripts VALUES (2,'////Galil Script for DMC2180//// WATCHDOG ROUTINE #W_DogKick=0LastKic=0#WDog_ok//MG{EF} \"WATCHDOG ok\"AT 0AT 5000JP #WDogBad,Kick=LastKicLastKic=KickTimeOut=0JP #WDog_ok#WDogBadST ABCDEFGHST STimeOut=1//DON\'T Send an unsolicited message to DHS//MG{EF} \"dtoh_watchdog_timeout\"JP #WDog_ok//////This routine closes all sockets after waiting for 1 second.//The 1 second wait is useful to allow the client to disconnect cleanly.	//#ShutAllAT 0AT 1000IHA=>-2IHB=>-2IHC=>-2IHD=>-2IHE=>-2IHF=>-2EN//end of the routine////////OSCILLATION CODE#ShutREVJP #NoShutr,Shutter=0VS_adj=V_ion/V_stan#Loop2AJP #LoopEnd,StopOsc>0JS #RP_axis//Get positionJP #Loop2A,Pos>OscStart-1JS #OpenSh#Loop3AJP #LoopEnd,StopOsc>0JS #VS_ADJ//Adjust velocityJS #RP_axis//Get positionJP #Loop3A,Pos>OscEndJP #Finish////Shutter handling for non-reversed motor#ShutFWDVS_adj=V_ion/V_stanJP #NoShutr,Shutter=0#Loop2BJP #LoopEnd,StopOsc>0JS #RP_axis// Get positionJP #Loop2B,Pos<OscStart+1JS #OpenSh#Loop3BJP #LoopEnd,StopOsc>0JS #VS_ADJ//Adjust velocityJS #RP_axis//Get positionJP #Loop3B,Pos<OscEnd//			#FinishJS #CloseShEN//			#LoopEndAT 0AT 1000JP #Finish//			#OpenShSB FrontFilMG{EF} \"dtoh_shutter_open\",FrontFilEN//			#CloseShCB FrontFilMG{EF} \"dtoh_shutter_closed\",FrontFil#NoShutrEN//#RP_axisJP #POS_X,Axis=0JP #POS_Y,Axis=1JP #POS_Z,Axis=2JP #POS_W,Axis=3JP #POS_E,Axis=4JP #POS_F,Axis=5JP #POS_G,Axis=6JP #POS_H,Axis=7MG{EF} \"dtoh_axis_not_in_range\" // Tell calling program that Axis not in range [0..7]*/EN//#POS_XPos=_RPXEN#POS_YPos=_RPYEN#POS_ZPos=_RPZEN#POS_WPos=_RPWEN#POS_EPos=_RPEEN#POS_FPos=_RPFEN#POS_GPos=_RPGEN#POS_HPos=_RPHEN////*********************************//READ ION CHAMBER and pass through//1hz Butterworth filter//RUNS IN INDEPENDENT THREAD//*********************************#IONV_ion=@AN[4]DM XV[3]//define dimension arrayDM YV[3]GAIN=2.55535XV[1]=0XV[2]=0Vstan=3.0//#filterAT 0AT 100XV[0]=XV[1]XV[1]=XV[2]input=@AN[4]*1000XV[2]=input/GAINYV[0]=YV[1]YV[1]=YV[2]YV[2]=XV[0]+XV[2]YV[2]=YV[2]+(2*XV[1])YV[2]=YV[2]-(.195815*YV[0])YV[2]=YV[2]-(.369527*YV[1])V_ion=YV[2]MG{EF} \"dtoh_ion_chamber\",V_ion,inputJP #filter//////****************************//DOSE MODE//ADJUST OSCILLATION VECTOR SPEED//****************************#VS_ADJVS_adj=V_ion/V_stanVS VS_req*V_adj//Set the new oscillation vector speedEN','DIGITAL FILTER TEST','000000000000');
INSERT INTO galil_scripts VALUES (3,'//\n//Galil Script for DMC2180 without watchdog for testing purposes\n//\n// WATCHDOG ROUTINE \n#W_Dog\n#WDog_ok\nAT 0\nAT 5000\nJP #WDog_ok\n//\n//\n//This routine closes all sockets after waiting for 1 second.\n//The 1 second wait is useful to allow the client to disconnect cleanly.	\n//	 \n#ShutAll\nAT 0\nAT 1000\nIHA=>-2\nIHB=>-2\nIHC=>-2\nIHD=>-2\nIHE=>-2\nIHF=>-2\nEN\n//end of the routine\n//\n//\n//\n//OSCILLATION CODE\n#ShutREV\nJP #NoShutr,Shutter=0\n#Loop2A\nJP #LoopEnd,StopOsc>0\nJS #RP_axis//Get position			  \nJP #Loop2A,Pos>OscStart-1\nJS #OpenSh\n#Loop3A\nJP #LoopEnd,StopOsc>0\nJS #RP_axis//Get position\nJP #Loop3A,Pos>OscEnd\nJP #Finish\n//			\n//Shutter handling for non-reversed motor\n#ShutFWD\nJP #NoShutr,Shutter=0\n#Loop2B\nJP #LoopEnd,StopOsc>0\nJS #RP_axis// Get position\nJP #Loop2B,Pos<OscStart+1\nJS #OpenSh\n#Loop3B\nJP #LoopEnd,StopOsc>0\nJS #RP_axis//Get position\nJP #Loop3B,Pos<OscEnd\n//			\n#Finish\nJS #CloseSh\nEN\n//			\n#LoopEnd\nAT 0\nAT 1000\nJP #Finish\n//			\n#OpenSh\nSB FrontFil\nMG{EF} \"dtoh_shutter_open\",FrontFil\nEN\n//			\n#CloseSh\nCB FrontFil\nMG{EF} \"dtoh_shutter_closed\",FrontFil\n#NoShutr\nEN\n//\n#RP_axis\nJP #POS_X,Axis=0\nJP #POS_Y,Axis=1\nJP #POS_Z,Axis=2\nJP #POS_W,Axis=3\nJP #POS_E,Axis=4\nJP #POS_F,Axis=5\nJP #POS_G,Axis=6\nJP #POS_H,Axis=7\nMG{EF} \"dtoh_axis_not_in_range\" // Tell calling program that Axis not in range [0..7]*/\nEN\n//\n#POS_X\nPos=_RPX\nEN\n#POS_Y\nPos=_RPY\nEN\n#POS_Z\nPos=_RPZ\nEN\n#POS_W\nPos=_RPW\nEN\n#POS_E\nPos=_RPE\nEN\n#POS_F\nPos=_RPF\nEN\n#POS_G\nPos=_RPG\nEN\n#POS_H\nPos=_RPH\nEN\n#LVDT\nA0=0\nA1=0\nA2=0\nA3=0\nA5=0\nA6=0\nA7=0\nCNT=5\n#anaLoop\nAT 0\nAT 500\nA0=A0+@AN[0]\nA1=A1+@AN[1]\nA2=A2+@AN[2]\nA3=A3+@AN[3]\nA4=A4+@AN[4]\nA5=A5+@AN[5]\nA6=A6+@AN[6]\nA7=A7+@AN[7]\nCNT=CNT-1\nJP #anaLoop,CNT>0\nA0=A0/5\nA1=A1/5\nA2=A2/5\nA3=A3/5\nA4=A4/5\nA5=A5/5\nA6=A6/5\nA7=A7/5\nMG{EF} \"dtoh_analog_values\",A0,A1,A2,A3,A4,A5,A6,A7\nJP #LVDT','NO WATCHDOG!','000000000000');
INSERT INTO galil_scripts VALUES (4,'//\n//Galil Script for DMC2180\n//\n// WATCHDOG ROUTINE\n#W_Dog\nCW ,1\nKick=0\nLastKic=0\n#WDog_ok\n//MG{EF} \"WATCHDOG ok\"\nAT 0\nAT 5000\nJP #WDogBad,Kick=LastKic\nLastKic=Kick\nTimeOut=0\nJP #WDog_ok\n#WDogBad\nST ABCDEFGH\nST S\nTimeOut=1\n//DON\'T Send an unsolicited message to DHS\n//MG{EF} \"dtoh_watchdog_timeout\"\nJP #WDog_ok\n//\n//\n//This routine closes all sockets after waiting for 1 second.\n//The 1 second wait is useful to allow the client to disconnect cleanly.	\n//	 \n#ShutAll\nAT 0\nAT 1000\nIHA=>-2\nIHB=>-2\nIHC=>-2\nIHD=>-2\nIHE=>-2\nIHF=>-2\nEN\n//end of the routine\n//\n//\n//\n//OSCILLATION CODE\n#ShutREV\nJP #NoShutr,Shutter=0\n#Loop2A\nJP #LoopEnd,StopOsc>0\nJS #RP_axis//Get position			  \nJP #Loop2A,Pos>OscStart-1\nJS #OpenSh\n#Loop3A\nJP #LoopEnd,StopOsc>0\nJS #RP_axis//Get position\nJP #Loop3A,Pos>OscEnd\nJP #Finish\n//			\n//Shutter handling for non-reversed motor\n#ShutFWD\nJP #NoShutr,Shutter=0\n#Loop2B\nJP #LoopEnd,StopOsc>0\nJS #RP_axis// Get position\nJP #Loop2B,Pos<OscStart+1\nJS #OpenSh\n#Loop3B\nJP #LoopEnd,StopOsc>0\nJS #RP_axis//Get position\nJP #Loop3B,Pos<OscEnd\n//			\n#Finish\nJS #CloseSh\nEN\n//			\n#LoopEnd\nAT 0\nAT 1000\nJP #Finish\n//			\n#OpenSh\nSB FrontFil\nMG{EF} \"dtoh_shutter_open\",FrontFil\nEN\n//			\n#CloseSh\nCB FrontFil\nMG{EF} \"dtoh_shutter_closed\",FrontFil\n#NoShutr\nEN\n//\n#RP_axis\nJP #POS_X,Axis=0\nJP #POS_Y,Axis=1\nJP #POS_Z,Axis=2\nJP #POS_W,Axis=3\nJP #POS_E,Axis=4\nJP #POS_F,Axis=5\nJP #POS_G,Axis=6\nJP #POS_H,Axis=7\nMG{EF} \"dtoh_axis_not_in_range\" // Tell calling program that Axis not in range [0..7]*/\nEN\n//\n#POS_X\nPos=_RPX\nEN\n#POS_Y\nPos=_RPY\nEN\n#POS_Z\nPos=_RPZ\nEN\n#POS_W\nPos=_RPW\nEN\n#POS_E\nPos=_RPE\nEN\n#POS_F\nPos=_RPF\nEN\n#POS_G\nPos=_RPG\nEN\n#POS_H\nPos=_RPH\nEN\n#LVDT\nA0=0\nA1=0\nA2=0\nA3=0\nA5=0\nA6=0\nA7=0\nCNT=5\n#anaLoop\nAT 0\nAT 500\nA0=A0+@AN[0]\nA1=A1+@AN[1]\nA2=A2+@AN[2]\nA3=A3+@AN[3]\nA4=A4+@AN[4]\nA5=A5+@AN[5]\nA6=A6+@AN[6]\nA7=A7+@AN[7]\nCNT=CNT-1\nJP #anaLoop,CNT>0\nA0=A0/5\nA1=A1/5\nA2=A2/5\nA3=A3/5\nA4=A4/5\nA5=A5/5\nA6=A6/5\nA7=A7/5\nMG{EF} \"dtoh_analog_values\",A0,A1,A2,A3,A4,A5,A6,A7\nJP #LVDT','uses CW,1 commmand','001103132420');
INSERT INTO galil_scripts VALUES (5,'//\n//Galil Script for DMC2180\n//\n// WATCHDOG ROUTINE\n#W_Dog\nCW ,1\nKick=0\nLastKic=0\n#WDog_ok\n//MG{EF} \"WATCHDOG ok\"\nAT 0\nAT 5000\nJP #WDogBad,Kick=LastKic\nLastKic=Kick\nTimeOut=0\nJP #WDog_ok\n#WDogBad\nST ABCDEFGH\nST S\n#close shutter\nCB 1\nTimeOut=1\n//DON\'T Send an unsolicited message to DHS\n//MG{EF} \"dtoh_watchdog_timeout\"\nJP #WDog_ok\n//\n//\n//This routine closes all sockets after waiting for 1 second.\n//The 1 second wait is useful to allow the client to disconnect cleanly.	\n//	 \n#ShutAll\nAT 0\nAT 1000\nIHA=>-2\nIHB=>-2\nIHC=>-2\nIHD=>-2\nIHE=>-2\nIHF=>-2\nEN\n//end of the routine\n//\n//\n//\n//OSCILLATION CODE\n#ShutREV\nJP #NoShutr,Shutter=0\n#Loop2A\nJP #LoopEnd,StopOsc>0\nJS #RP_axis//Get position			  \nJP #Loop2A,Pos>OscStart-1\nJS #OpenSh\n#Loop3A\nJP #LoopEnd,StopOsc>0\nJS #RP_axis//Get position\nJP #Loop3A,Pos>OscEnd\nJP #Finish\n//			\n//Shutter handling for non-reversed motor\n#ShutFWD\nJP #NoShutr,Shutter=0\n#Loop2B\nJP #LoopEnd,StopOsc>0\nJS #RP_axis// Get position\nJP #Loop2B,Pos<OscStart+1\nJS #OpenSh\n#Loop3B\nJP #LoopEnd,StopOsc>0\nJS #RP_axis//Get position\nJP #Loop3B,Pos<OscEnd\n//			\n#Finish\nJS #CloseSh\nEN\n//			\n#LoopEnd\nAT 0\nAT 1000\nJP #Finish\n//			\n#OpenSh\nSB FrontFil\nMG{EF} \"dtoh_shutter_open\",FrontFil\nEN\n//			\n#CloseSh\nCB FrontFil\nMG{EF} \"dtoh_shutter_closed\",FrontFil\n#NoShutr\nEN\n//\n#RP_axis\nJP #POS_X,Axis=0\nJP #POS_Y,Axis=1\nJP #POS_Z,Axis=2\nJP #POS_W,Axis=3\nJP #POS_E,Axis=4\nJP #POS_F,Axis=5\nJP #POS_G,Axis=6\nJP #POS_H,Axis=7\nMG{EF} \"dtoh_axis_not_in_range\" // Tell calling program that Axis not in range [0..7]*/\nEN\n//\n#POS_X\nPos=_RPX\nEN\n#POS_Y\nPos=_RPY\nEN\n#POS_Z\nPos=_RPZ\nEN\n#POS_W\nPos=_RPW\nEN\n#POS_E\nPos=_RPE\nEN\n#POS_F\nPos=_RPF\nEN\n#POS_G\nPos=_RPG\nEN\n#POS_H\nPos=_RPH\nEN\n#LVDT\nA0=0\nA1=0\nA2=0\nA3=0\nA5=0\nA6=0\nA7=0\nCNT=5\n#anaLoop\nAT 0\nAT 500\nA0=A0+@AN[0]\nA1=A1+@AN[1]\nA2=A2+@AN[2]\nA3=A3+@AN[3]\nA4=A4+@AN[4]\nA5=A5+@AN[5]\nA6=A6+@AN[6]\nA7=A7+@AN[7]\nCNT=CNT-1\nJP #anaLoop,CNT>0\nA0=A0/5\nA1=A1/5\nA2=A2/5\nA3=A3/5\nA4=A4/5\nA5=A5/5\nA6=A6/5\nA7=A7/5\nMG{EF} \"dtoh_analog_values\",A0,A1,A2,A3,A4,A5,A6,A7\nJP #LVDT','close shutter on bad watchdog & cw,1','000000000000');

--
-- Table structure for table 'hutchDoorBit'
--

CREATE TABLE hutchDoorBit (
  controllerID int(11) NOT NULL default '0',
  channel int(11) NOT NULL default '0',
  PRIMARY KEY  (controllerID)
) TYPE=MyISAM;

--
-- Dumping data for table 'hutchDoorBit'
--


INSERT INTO hutchDoorBit VALUES (4,3);

